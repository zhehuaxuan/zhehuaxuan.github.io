<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="çŸ¥è¶³.æ„Ÿæ©.å¹¸è¿">
<meta property="og:type" content="website">
<meta property="og:title" content="zhehua&#39;s note">
<meta property="og:url" content="https://zhehuaxuan.github.io/index.html">
<meta property="og:site_name" content="zhehua&#39;s note">
<meta property="og:description" content="çŸ¥è¶³.æ„Ÿæ©.å¹¸è¿">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zhehua&#39;s note">
<meta name="twitter:description" content="çŸ¥è¶³.æ„Ÿæ©.å¹¸è¿">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zhehuaxuan.github.io/"/>





  <title>zhehua's note</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zhehua's note</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            æ—¶å…‰
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-works">
          <a href="/works/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />
            
            ä½œå“
          </a>
        </li>
      
        
        <li class="menu-item menu-item-nav">
          <a href="/nav/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-send"></i> <br />
            
            ç«™ç‚¹
          </a>
        </li>
      
        
        <li class="menu-item menu-item-think">
          <a href="/think/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-grav"></i> <br />
            
            éšæƒ³
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/" itemprop="url">JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcall,applyå’Œbind</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-02-22T20:08:03+08:00">
                2019-02-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScriptè¿›é˜¶ç³»åˆ—/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScriptè¿›é˜¶ç³»åˆ—</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><p>æœ¬æ–‡ä¸»è¦ç”¨äºç†è§£å’ŒæŒæ¡<code>call</code>ï¼Œ<code>apply</code>å’Œ<code>bind</code>çš„ä½¿ç”¨å’ŒåŸç†ï¼Œæœ¬æ–‡é€‚ç”¨äºå¯¹å®ƒä»¬çš„ç”¨æ³•ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæˆ–è€…æƒ³ææ¸…æ¥šå®ƒä»¬åŸç†çš„ç«¥é‹ã€‚å¥½ï¼Œé‚£æˆ‘ä»¬å¼€å§‹ï¼<br>åœ¨JavaScriptä¸­æœ‰ä¸‰ç§æ–¹å¼æ¥æ”¹å˜<code>this</code>çš„ä½œç”¨åŸŸ<code>call</code>ï¼Œ<code>apply</code>å’Œ<code>bind</code>ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®ƒä»¬æ˜¯æ€ä¹ˆç”¨çš„ï¼Œåªæœ‰çŸ¥é“æ€ä¹ˆç”¨çš„ï¼Œæˆ‘ä»¬æ‰èƒ½æ¥æ¨¡æ‹Ÿå®ƒğŸ˜¸ã€‚</p>
<h2 id="Function-prototype-call"><a href="#Function-prototype-call" class="headerlink" title="Function.prototype.call()"></a>Function.prototype.call()</h2><p>é¦–å…ˆæ˜¯<code>Function.prototype.call()</code>ï¼Œä¸ç†Ÿçš„ç«¥é‹è¯·çŒ›æˆ³<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noopener">MDN</a>ï¼Œå®ƒæ˜¯è¿™ä¹ˆè¯´çš„ï¼š<strong><code>call()</code>å…è®¸ä¸ºä¸åŒçš„å¯¹è±¡åˆ†é…å’Œè°ƒç”¨å±äºä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°/æ–¹æ³•</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šä¸€ä¸ªå‡½æ•°ï¼Œåªè¦è°ƒç”¨<code>call()</code>æ–¹æ³•ï¼Œå°±å¯ä»¥æŠŠå®ƒåˆ†é…ç»™ä¸åŒçš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœè¿˜æ˜¯ä¸æ˜ç™½ï¼Œä¸æ€¥ï¼è·Ÿæˆ‘å¾€ä¸‹çœ‹ï¼Œæˆ‘ä»¬å…ˆæ¥å†™ä¸€ä¸ª<code>call()</code>å‡½æ•°æœ€ç®€å•çš„ç”¨æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name); <span class="comment">//æ‰“å° xuan</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(source.call(destination));</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¼šæ‰“å°å‡º<code>destination</code>çš„<code>name</code>å±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´<code>source()</code>å‡½æ•°é€šè¿‡è°ƒç”¨<code>call()</code>ï¼Œ<code>source()</code>å‡½æ•°ä¸­çš„<code>this</code>å¯¹è±¡å¯ä»¥åˆ†é…åˆ°<code>destination</code>å¯¹è±¡ä¸­ã€‚ç±»ä¼¼äºå®ç°<strong>destination.source()çš„æ•ˆæœï¼Œå½“ç„¶å‰ææ˜¯destinationè¦æœ‰ä¸€ä¸ªsourceå±æ€§</strong></p>
<p>å¥½ï¼Œç°åœ¨å¤§å®¶åº”è¯¥æ˜ç™½<code>call()</code>çš„åŸºæœ¬ç”¨æ³•ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="built_in">console</span>.log(gender);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(source.call(destination,<span class="number">18</span>,<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190223204803524.png" alt="image-20190223204803524"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯ä»¥<code>call()</code>ä¹Ÿå¯ä»¥ä¼ å‚ï¼Œè€Œä¸”æ˜¯ä»¥<code>å‚æ•°,å‚æ•°,...</code>çš„å½¢å¼ä¼ å…¥ã€‚</p>
<p>ä¸Šè¿°æˆ‘ä»¬çŸ¥é“<code>call()</code>çš„ä¸¤ä¸ªä½œç”¨ï¼š</p>
<blockquote>
<p>1.æ”¹å˜thisçš„æŒ‡å‘</p>
<p>2.æ”¯æŒå¯¹å‡½æ•°ä¼ å‚</p>
</blockquote>
<p>æˆ‘ä»¬çœ‹åˆ°æœ€åè¿˜è¿˜è¾“å‡ºä¸€ä¸ª<code>undefined</code>ï¼Œè¯´æ˜ç°åœ¨è°ƒç”¨<code>source.call(â€¦args)</code>æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<p>æˆ‘ä»¬ç»™<code>source</code>å‡½æ•°æ·»åŠ ä¸€ä¸ªè¿”å›å€¼è¯•ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="built_in">console</span>.log(gender);</span><br><span class="line">    <span class="comment">//æ·»åŠ ä¸€ä¸ªè¿”å›å€¼å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        age:age,</span><br><span class="line">        gender:gender,</span><br><span class="line">        name:<span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(source.call(destination,<span class="number">18</span>,<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190223205338670.png" alt="image-20190223205338670"></p>
<p>æœä¸å…¶ç„¶ï¼<code>call()</code>å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯<code>source</code>å‡½æ•°çš„è¿”å›å€¼ï¼Œé‚£ä¹ˆ<code>call()</code>å‡½æ•°çš„ä½œç”¨å·²ç»å¾ˆæ˜æ˜¾äº†ã€‚</p>
<p>è¿™è¾¹å†æ€»ç»“ä¸€ä¸‹ï¼š</p>
<blockquote>
<ol>
<li>æ”¹å˜thisçš„æŒ‡å‘</li>
<li>æ”¯æŒå¯¹å‡½æ•°ä¼ å‚</li>
<li>å‡½æ•°è¿”å›ä»€ä¹ˆï¼Œcallå°±è¿”å›ä»€ä¹ˆã€‚</li>
</ol>
</blockquote>
<h2 id="æ¨¡æ‹ŸFunction-prototype-call"><a href="#æ¨¡æ‹ŸFunction-prototype-call" class="headerlink" title="æ¨¡æ‹ŸFunction.prototype.call()"></a>æ¨¡æ‹ŸFunction.prototype.call()</h2><p>æ ¹æ®<code>call()</code>å‡½æ•°çš„ä½œç”¨ï¼Œæˆ‘ä»¬ä¸‹é¢ä¸€æ­¥ä¸€æ­¥çš„è¿›è¡Œæ¨¡æ‹Ÿã€‚æˆ‘ä»¬å…ˆæŠŠä¸Šé¢çš„éƒ¨åˆ†ä»£ç æ‘˜æŠ„ä¸‹æ¥ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="built_in">console</span>.log(gender);</span><br><span class="line">    <span class="comment">//æ·»åŠ ä¸€ä¸ªè¿”å›å€¼å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        age:age,</span><br><span class="line">        gender:gender,</span><br><span class="line">        name:<span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„è¿™éƒ¨åˆ†ä»£ç æˆ‘ä»¬å…ˆä¸å˜ã€‚ç°åœ¨åªè¦å®ç°ä¸€ä¸ªå‡½æ•°<code>call1()</code>å¹¶ä½¿ç”¨ä¸‹é¢æ–¹å¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(source.call1(destination));</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå¾—å‡ºçš„ç»“æœå’Œ<code>call()</code>å‡½æ•°ä¸€æ ·ï¼Œé‚£å°±æ²¡é—®é¢˜äº†ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬æ¥æ¨¡æ‹Ÿç¬¬ä¸€æ­¥ï¼š<strong>æ”¹å˜thisçš„æŒ‡å‘</strong>ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬destinationçš„ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span>,</span><br><span class="line">    source:<span class="function"><span class="keyword">function</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">        <span class="built_in">console</span>.log(age);</span><br><span class="line">        <span class="built_in">console</span>.log(gender);</span><br><span class="line">        <span class="comment">//æ·»åŠ ä¸€ä¸ªè¿”å›å€¼å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            age:age,</span><br><span class="line">            gender:gender,</span><br><span class="line">            name:<span class="keyword">this</span>.name</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ‰§è¡Œ<code>destination.source(18,&quot;male&quot;);</code>å°±å¯ä»¥åœ¨<code>source()</code>å‡½æ•°ä¸­æŠŠæ­£ç¡®çš„ç»“æœæ‰“å°å‡ºæ¥å¹¶ä¸”è¿”å›æˆ‘ä»¬æƒ³è¦çš„å€¼ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬çš„ç›®çš„æ›´æ˜ç¡®äº†ï¼š<strong>ç»™destinationå¯¹è±¡æ·»åŠ ä¸€ä¸ªsourceå±æ€§ï¼Œç„¶åæ·»åŠ å‚æ•°æ‰§è¡Œå®ƒ</strong>ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.call1 = <span class="function"><span class="keyword">function</span>(<span class="params">ctx</span>)</span>&#123;</span><br><span class="line">    ctx.fn = <span class="keyword">this</span>;   <span class="comment">//ctxä¸ºdestination   thisæŒ‡å‘source   é‚£ä¹ˆå°±æ˜¯destination.fn = source;</span></span><br><span class="line">    ctx.fn(); <span class="comment">// æ‰§è¡Œå‡½æ•°</span></span><br><span class="line">    <span class="keyword">delete</span> ctx.fn;  <span class="comment">//åœ¨åˆ é™¤è¿™ä¸ªå±æ€§</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(source.call1(destination,<span class="number">18</span>,<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190224111229956.png" alt="image-20190224111229956"></p>
<p>æˆ‘ä»¬å‘ç°thisçš„æŒ‡å‘å·²ç»æ”¹å˜äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°è¿˜æ²¡æœ‰å¤„ç†ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼š<strong>æ”¯æŒå¯¹å‡½æ•°ä¼ å‚</strong>ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨ES6è¯­æ³•ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.call1 =<span class="function"><span class="keyword">function</span>(<span class="params">ctx,...args</span>)</span>&#123;</span><br><span class="line">    ctx.fn = <span class="keyword">this</span>;</span><br><span class="line">    ctx.fn(...args);</span><br><span class="line">    <span class="keyword">delete</span> ctx.fn;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(source.call1(destination,<span class="number">18</span>,<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190224111709834.png" alt="image-20190224111709834"></p>
<p>å‚æ•°å‡ºç°äº†ï¼Œç°åœ¨å°±å‰©ä¸‹è¿”å›å€¼äº†ï¼Œå¾ˆç®€å•ï¼Œæˆ‘ä»¬å†ä¿®æ”¹ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.call1 =<span class="function"><span class="keyword">function</span>(<span class="params">ctx,...args</span>)</span>&#123;</span><br><span class="line">    ctx.fn = <span class="keyword">this</span> || <span class="built_in">window</span>; <span class="comment">//é˜²æ­¢ctxä¸ºnullçš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">let</span> res = ctx.fn(...args);</span><br><span class="line">    <span class="keyword">delete</span> ctx.fn;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(source.call1(destination,<span class="number">18</span>,<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190224111912666.png" alt="image-20190224111912666"></p>
<p>ç°åœ¨æˆ‘ä»¬å®ç°äº†<code>call</code>çš„æ•ˆæœï¼</p>
<h2 id="æ¨¡æ‹ŸFunction-prototype-apply"><a href="#æ¨¡æ‹ŸFunction-prototype-apply" class="headerlink" title="æ¨¡æ‹ŸFunction.prototype.apply()"></a>æ¨¡æ‹ŸFunction.prototype.apply()</h2><p><code>apply()</code>å‡½æ•°çš„ä½œç”¨å’Œ<code>call()</code>å‡½æ•°ä¸€æ ·ï¼Œåªæ˜¯ä¼ å‚çš„æ–¹å¼ä¸ä¸€æ ·ã€‚<code>apply</code>çš„ç”¨æ³•å¯ä»¥æŸ¥çœ‹<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener">MDN</a>ï¼ŒMDNè¿™ä¹ˆè¯´çš„ï¼š<code>apply()</code> æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå…·æœ‰ç»™å®š<code>this</code>å€¼çš„å‡½æ•°ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Indexed_collections#Working_with_array-like_objects" target="_blank" rel="noopener">ç±»ä¼¼æ•°ç»„å¯¹è±¡</a>ï¼‰æä¾›çš„å‚æ•°ã€‚</p>
<p><code>apply()</code>å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„æ˜¯è°ƒç”¨<code>apply()</code>çš„å‡½æ•°çš„å‚æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="built_in">console</span>.log(gender);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        age:age,</span><br><span class="line">        gender:gender,</span><br><span class="line">        name:<span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(source.apply(destination,[<span class="number">18</span>,<span class="string">"male"</span>]));</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190224135505703.png" alt="image-20190224135505703"></p>
<p>æ•ˆæœå’Œ<code>call()</code>æ˜¯ä¸€æ ·çš„ã€‚æ—¢ç„¶åªæ˜¯ä¼ å‚ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬æŠŠæ¨¡æ‹Ÿ<code>call()</code>å‡½æ•°çš„ä»£ç ç¨å¾®æ”¹æ”¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.apply1 =<span class="function"><span class="keyword">function</span>(<span class="params">ctx,args=[]</span>)</span>&#123;</span><br><span class="line">    ctx.fn = <span class="keyword">this</span> || <span class="built_in">window</span>;</span><br><span class="line">    <span class="keyword">let</span> res = ctx.fn(...args);</span><br><span class="line">    <span class="keyword">delete</span> ctx.fn;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(source.apply1(destination,[<span class="number">18</span>,<span class="string">'male'</span>]));</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190224144414290.png" alt="image-20190224144414290"></p>
<p><code>apply()</code>å‡½æ•°çš„æ¨¡æ‹Ÿå®Œæˆã€‚</p>
<h2 id="Function-prototype-bind"><a href="#Function-prototype-bind" class="headerlink" title="Function.prototype.bind()"></a>Function.prototype.bind()</h2><p>å¯¹äº<code>bind()</code>å‡½æ•°çš„ä½œç”¨ï¼Œæˆ‘ä»¬å¼•ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="noopener">MDN</a>ï¼Œ<code>bind()</code>æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚å½“è¿™ä¸ªæ–°å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œ<code>bind()</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†ä½œä¸ºå®ƒè¿è¡Œæ—¶çš„ <code>this</code>å¯¹è±¡ï¼Œä¹‹åçš„ä¸€åºåˆ—å‚æ•°å°†ä¼šåœ¨ä¼ é€’çš„å®å‚å‰ä¼ å…¥ä½œä¸ºå®ƒçš„å‚æ•°ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="built_in">console</span>.log(gender);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        age:age,</span><br><span class="line">        gender:gender,</span><br><span class="line">        name:<span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> res = source.bind(destination,<span class="number">18</span>,<span class="string">"male"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(res());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"=========================="</span>)</span><br><span class="line"><span class="keyword">var</span> res1 = source.bind(destination,<span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(res1(<span class="string">"male"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"=========================="</span>)</span><br><span class="line"><span class="keyword">var</span> res2 = source.bind(destination);</span><br><span class="line"><span class="built_in">console</span>.log(res2(<span class="number">18</span>,<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190224201114865.png" alt="image-20190224201114865"></p>
<p>æˆ‘ä»¬å‘ç°<code>bind</code>å‡½æ•°è·Ÿ<code>apply</code>å’Œ<code>call</code>æœ‰ä¸¤ä¸ªåŒºåˆ«ï¼š</p>
<blockquote>
<p>1.bindè¿”å›çš„æ˜¯å‡½æ•°ï¼Œè™½ç„¶ä¹Ÿæœ‰callå’Œapplyçš„ä½œç”¨ï¼Œä½†æ˜¯éœ€è¦åœ¨è°ƒç”¨bind()æ—¶ç”Ÿæ•ˆ</p>
<p>2.bindä¸­ä¹Ÿå¯ä»¥æ·»åŠ å‚æ•°</p>
</blockquote>
<p>æ˜ç™½äº†åŒºåˆ«ï¼Œä¸‹é¢æˆ‘ä»¬æ¥æ¨¡æ‹Ÿ<code>bind</code>å‡½æ•°ã€‚</p>
<h2 id="æ¨¡æ‹ŸFunction-prototype-bind"><a href="#æ¨¡æ‹ŸFunction-prototype-bind" class="headerlink" title="æ¨¡æ‹ŸFunction.prototype.bind()"></a>æ¨¡æ‹ŸFunction.prototype.bind()</h2><p>å’Œæ¨¡æ‹Ÿcallä¸€æ ·ï¼Œç°æ‘˜æŠ„ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="built_in">console</span>.log(gender);</span><br><span class="line">    <span class="comment">//æ·»åŠ ä¸€ä¸ªè¿”å›å€¼å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        age:age,</span><br><span class="line">        gender:gender,</span><br><span class="line">        name:<span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•°<code>bind1</code>ï¼Œå¦‚æœæ‰§è¡Œä¸‹é¢çš„ä»£ç èƒ½å¤Ÿè¿”å›å’Œ<code>bind</code>å‡½æ•°ä¸€æ ·çš„å€¼ï¼Œå°±è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = source.bind1(destination,<span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(res(<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªbind1å‡½æ•°ï¼Œå› ä¸ºè¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bind1 = <span class="function"><span class="keyword">function</span>(<span class="params">ctx,...args</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;<span class="comment">//å¤–å±‚çš„thisæŒ‡å‘é€šè¿‡å˜é‡ä¼ è¿›å»</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//å°†å¤–å±‚å‡½æ•°çš„å‚æ•°å’Œå†…å±‚å‡½æ•°çš„å‚æ•°åˆå¹¶</span></span><br><span class="line">        <span class="keyword">var</span> all_args = [...args].concat([...arguments]);</span><br><span class="line">        <span class="comment">//å› ä¸ºctxæ˜¯å¤–å±‚çš„thisæŒ‡é’ˆï¼Œåœ¨å¤–å±‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå˜é‡thatå¼•ç”¨è¿›æ¥</span></span><br><span class="line">        <span class="keyword">return</span> that.apply(ctx,all_args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190225230039054.png" alt="image-20190225230039054"></p>
<p>è¿™é‡Œæˆ‘ä»¬åˆ©ç”¨é—­åŒ…ï¼ŒæŠŠå¤–å±‚å‡½æ•°çš„<code>ctx</code>å’Œå‚æ•°<code>args</code>ä¼ åˆ°å†…å±‚å‡½æ•°ï¼Œå†å°†<strong>å†…å¤–ä¼ é€’çš„å‚æ•°åˆå¹¶</strong>ï¼Œç„¶åä½¿ç”¨<code>apply()</code>æˆ–<code>call()</code>å‡½æ•°ï¼Œå°†å…¶è¿”å›ã€‚</p>
<p>å½“æˆ‘ä»¬è°ƒç”¨<code>res(&quot;male&quot;)</code>æ—¶ï¼Œå› ä¸ºå¤–å±‚<code>ctx</code>å’Œ<code>args</code>è¿˜æ˜¯ä¼šå­˜åœ¨å†…å­˜å½“ä¸­ï¼Œæ‰€ä»¥è°ƒç”¨æ—¶ï¼Œå‰é¢çš„<code>ctx</code>ä¹Ÿå°±æ˜¯<code>source</code>ï¼Œ<code>args</code>ä¹Ÿå°±æ˜¯18ï¼Œå†å°†ä¼ å…¥çš„â€maleâ€è·Ÿ18åˆå¹¶[18,â€™maleâ€™]ï¼Œæ‰§è¡Œ<code>source.apply(destination,[18,&#39;male&#39;]);</code>è¿”å›å‡½æ•°ç»“æœå³å¯ã€‚<code>bind()</code>çš„æ¨¡æ‹Ÿå®Œæˆï¼</p>
<p>ä½†æ˜¯<code>bind</code>é™¤äº†ä¸Šè¿°ç”¨æ³•ï¼Œè¿˜å¯ä»¥æœ‰å¦‚ä¸‹ç”¨æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="built_in">console</span>.log(gender);</span><br><span class="line">    <span class="comment">//æ·»åŠ ä¸€ä¸ªè¿”å›å€¼å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        age:age,</span><br><span class="line">        gender:gender,</span><br><span class="line">        name:<span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> res = source.bind1(destination,<span class="number">18</span>);</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> res(<span class="string">"male"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190225230707230.png" alt="image-20190225230707230"></p>
<p>æˆ‘ä»¬å‘ç°<code>bind</code>å‡½æ•°æ”¯æŒ<code>new</code>å…³é”®å­—ï¼Œè°ƒç”¨çš„æ—¶å€™<code>this</code>çš„ç»‘å®šå¤±æ•ˆäº†ï¼Œé‚£ä¹ˆ<code>new</code>ä¹‹åï¼Œ<code>this</code>æŒ‡å‘å“ªé‡Œå‘¢ï¼Ÿæˆ‘ä»¬æ¥è¯•ä¸€ä¸‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> res = source.bind(destination,<span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> res(<span class="string">"male"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(res(<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190225232709714.png" alt="image-20190225232709714"></p>
<p>æ‰§è¡Œ<code>new</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°è™½ç„¶<code>bind</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>destination</code>ï¼Œä½†æ˜¯<code>this</code>æ˜¯æŒ‡å‘<code>source</code>çš„ã€‚</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190225232842678.png" alt="image-20190225232842678"></p>
<p>ä¸ç”¨<code>new</code>çš„è¯ï¼Œ<code>this</code>æŒ‡å‘<code>destination</code>ã€‚</p>
<p>å¥½ï¼Œç°åœ¨å†æ¥å›é¡¾ä¸€ä¸‹æˆ‘ä»¬çš„<code>bind1</code>å®ç°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bind1 = <span class="function"><span class="keyword">function</span>(<span class="params">ctx,...args</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//å°†å¤–å±‚å‡½æ•°çš„å‚æ•°å’Œå†…å±‚å‡½æ•°çš„å‚æ•°åˆå¹¶</span></span><br><span class="line">        <span class="keyword">var</span> all_args = [...args].concat([...arguments]);</span><br><span class="line">        <span class="comment">//å› ä¸ºctxæ˜¯å¤–å±‚çš„thisæŒ‡é’ˆï¼Œåœ¨å¤–å±‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå˜é‡thatå¼•ç”¨è¿›æ¥</span></span><br><span class="line">        <span class="keyword">return</span> that.apply(ctx,all_args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = source.bind(destination,<span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> res(<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ‰§è¡Œä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬çš„<code>ctx</code>è¿˜æ˜¯<code>destination</code>ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ—¶å€™ä¸‹é¢çš„<code>source</code>å‡½æ•°ä¸­çš„<code>ctx</code>è¿˜æ˜¯æŒ‡å‘<code>destination</code>ã€‚è€Œæ ¹æ®<code>Function.prototype.bind</code>çš„ç”¨æ³•ï¼Œè¿™æ—¶<code>this</code>åº”è¯¥æ˜¯æŒ‡å‘<code>source</code>è‡ªèº«ã€‚</p>
<p>æˆ‘ä»¬å…ˆæŠŠéƒ¨åˆ†ä»£ç æŠ„ä¸‹æ¥ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">source</span>(<span class="params">age,gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="built_in">console</span>.log(gender);</span><br><span class="line">    <span class="comment">//æ·»åŠ ä¸€ä¸ªè¿”å›å€¼å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        age:age,</span><br><span class="line">        gender:gender,</span><br><span class="line">        name:<span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> destination = &#123;</span><br><span class="line">    name:<span class="string">"xuan"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ”¹ä¸€ä¸‹bind1å‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bind1 = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, ...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;<span class="comment">//thatè‚¯å®šæ˜¯source</span></span><br><span class="line">    <span class="comment">//å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//å°†å¤–å±‚å‡½æ•°çš„å‚æ•°å’Œå†…å±‚å‡½æ•°çš„å‚æ•°åˆå¹¶</span></span><br><span class="line">        <span class="keyword">var</span> all_args = [...args].concat([...arguments]);</span><br><span class="line">        <span class="comment">//å› ä¸ºctxæ˜¯å¤–å±‚çš„thisæŒ‡é’ˆï¼Œåœ¨å¤–å±‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå˜é‡thatå¼•ç”¨è¿›æ¥</span></span><br><span class="line">        <span class="keyword">var</span> real_ctx = <span class="keyword">this</span> <span class="keyword">instanceof</span> f ? <span class="keyword">this</span> : ctx;</span><br><span class="line">        <span class="keyword">return</span> that.apply(real_ctx, all_args);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å‡½æ•°çš„åŸå‹æŒ‡å‘sourceçš„åŸå‹ï¼Œè¿™æ ·æ‰§è¡Œnew f()çš„æ—¶å€™thiså°±ä¼šé€šè¿‡åŸå‹é“¾æŒ‡å‘source</span></span><br><span class="line">    f.prototype = <span class="keyword">this</span>.prototype;</span><br><span class="line">    <span class="comment">//è¿”å›å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ‰§è¡Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = source.bind1(destination,<span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> res(<span class="string">"male"</span>));</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/22/JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿcallå’Œapply/image-20190225235357902.png" alt="image-20190225235357902"></p>
<p>å·²ç»è¾¾åˆ°æˆ‘ä»¬çš„æ•ˆæœï¼</p>
<p>ç°åœ¨åˆ†æä¸€ä¸‹ä¸Šè¿°å®ç°çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è°ƒç”¨var res = source.bind1(destination,18)æ—¶çš„ä»£ç åˆ†æ</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.bind1 = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, ...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;<span class="comment">//thatè‚¯å®šæ˜¯source</span></span><br><span class="line">    <span class="comment">//å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       ... <span class="comment">//å†…éƒ¨å…ˆä¸ç®¡</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å‡½æ•°çš„åŸå‹æŒ‡å‘sourceçš„åŸå‹ï¼Œè¿™æ ·æ‰§è¡Œnew f()çš„æ—¶å€™thiså°±ä¼šæŒ‡å‘ä¸€ä¸ªæ–°å®¶çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡é€šè¿‡åŸå‹é“¾æŒ‡å‘sourceï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬ä¸Šé¢æ‰§è¡Œapplyçš„æ—¶å€™éœ€è¦ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line">     <span class="comment">//f.prototype==&gt;source.prototype</span></span><br><span class="line">    f.prototype = <span class="keyword">this</span>.prototype;</span><br><span class="line">    <span class="comment">//è¿”å›å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>f()å‡½æ•°çš„å†…éƒ¨å®ç°åˆ†æï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//new res("male")ç›¸å½“äºè¿è¡Œnew f("male")ï¼›ä¸‹é¢è¿›è¡Œå‡½æ•°çš„è¿è¡Œæ€åˆ†æ</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//è¿™ä¸ªæ—¶å€™æ‰“å°thiså°±æ˜¯ä¸€ä¸ª_proto_æŒ‡å‘f.prototypeçš„å¯¹è±¡,å› ä¸ºf.prototype==&gt;source.prototypeï¼Œæ‰€ä»¥this._proto_==&gt;source.prototype</span></span><br><span class="line">     <span class="comment">//å°†å¤–å±‚å‡½æ•°çš„å‚æ•°å’Œå†…å±‚å‡½æ•°çš„å‚æ•°åˆå¹¶</span></span><br><span class="line">     <span class="keyword">var</span> all_args = [...args].concat([...arguments]);</span><br><span class="line">     <span class="comment">//æ­£å¸¸ä¸ç”¨newçš„æ—¶å€™thisæŒ‡å‘å½“å‰è°ƒç”¨å¤„çš„thisæŒ‡é’ˆ(åœ¨å…¨å±€ç¯å¢ƒä¸­æ‰§è¡Œï¼Œthiså°±æ˜¯windowå¯¹è±¡)ï¼›ä½¿ç”¨newçš„è¯è¿™ä¸ªthiså¯¹è±¡çš„åŸå‹é“¾ä¸Šæœ‰ä¸€ä¸ªç±»å‹æ˜¯fçš„åŸå‹å¯¹è±¡ã€‚</span></span><br><span class="line">    <span class="comment">//é‚£ä¹ˆåˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœthis instanceof fï¼Œé‚£ä¹ˆreal_ctx=this,å¦åˆ™real_ctx=ctx;</span></span><br><span class="line">     <span class="keyword">var</span> real_ctx = <span class="keyword">this</span> <span class="keyword">instanceof</span> f ? <span class="keyword">this</span> : ctx;</span><br><span class="line">    <span class="comment">//ç°åœ¨æŠŠçœŸæ­£åˆ†é…ç»™sourceå‡½æ•°çš„å¯¹è±¡ä¼ å…¥</span></span><br><span class="line">     <span class="keyword">return</span> that.apply(real_ctx, all_args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤<code>bind()</code>å‡½æ•°çš„æ¨¡æ‹Ÿå®ç°å®Œæ¯•ï¼å¦‚æœ‰ä¸å¯¹ä¹‹å¤„ï¼Œæ¬¢è¿æ‹ç –ï¼æ‚¨çš„å®è´µæ„è§æ˜¯æˆ‘å†™ä½œçš„åŠ¨åŠ›ï¼Œè°¢è°¢å¤§å®¶ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/" itemprop="url">JavaScriptè¿›é˜¶ä¹‹æ¨¡æ‹Ÿnew Object()è¿‡ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-02-21T22:54:49+08:00">
                2019-02-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScriptè¿›é˜¶ç³»åˆ—/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScriptè¿›é˜¶ç³»åˆ—</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å†™åœ¨å‰é¢çš„è¯"><a href="#å†™åœ¨å‰é¢çš„è¯" class="headerlink" title="å†™åœ¨å‰é¢çš„è¯"></a>å†™åœ¨å‰é¢çš„è¯</h2><p>å‰ç«¯çš„å…¥é—¨ç›¸å¯¹ç®€å•ï¼Œç›¸å¯¹äºå…¶ä»–æ–¹å‘å¤©èŠ±æ¿å¯èƒ½ä¼šç›¸å¯¹è¾ƒä½ã€‚ä½†æ˜¯åœ¨å¸‚åœºä¸Šä¸€ä¸ªä¼˜ç§€çš„å‰ç«¯ä¾æ—§æ˜¯å¾ˆæŠ¢æ‰‹çš„ã€‚èƒ½å¤Ÿç«™åœ¨é‡‘å­—å¡”ä¸Šçš„äººå¾€å¾€å¯¥å¯¥æ— å‡ ã€‚</p>
<p>ç›®å‰å‰ç«¯ä¹Ÿå·²ç»ä¸€å¹´åŠäº†ï¼Œåœ¨å…¬å¸çš„çŸ¥è¯†æ ˆç›¸å¯¹è½åï¼Œå°±ä¸šå½¢åŠ¿ä¸å®¹ä¹è§‚ï¼Œæ‰€ä»¥æœ‰å¿…è¦è‡ªå·±ç¢ç£¨ï¼Œå¾€ä¸­é«˜çº§å‰ç«¯è¿›é˜¶ã€‚åç»­æˆ‘å°†æ¨å‡ºã€ŠJavaScriptè¿›é˜¶ç³»åˆ—ã€‹ï¼Œä¸€æ–¹é¢æ˜¯ä¸€ä¸ªç›‘ç£è‡ªå·±å­¦ä¹ çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¼šç»™çœ‹åˆ°çš„ç«¥é‹ä¸€äº›å¯å‘ã€‚</p>
<h2 id="JavaScriptæ–°å»ºå¯¹è±¡çš„è¿‡ç¨‹"><a href="#JavaScriptæ–°å»ºå¯¹è±¡çš„è¿‡ç¨‹" class="headerlink" title="JavaScriptæ–°å»ºå¯¹è±¡çš„è¿‡ç¨‹"></a>JavaScriptæ–°å»ºå¯¹è±¡çš„è¿‡ç¨‹</h2><p>åœ¨ES5ä¸­å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºå¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"xuan"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person.name);<span class="comment">//è¾“å‡ºï¼šxuan</span></span><br><span class="line"><span class="built_in">console</span>.log(person.getName());<span class="comment">//è¾“å‡ºï¼šxuan</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çœ‹åˆ°å½“æˆ‘ä»¬æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¿é—®æ„é€ å™¨ä¸­çš„æŒ‡å‘<strong>this</strong>çš„å±æ€§ï¼Œè¿˜å¯ä»¥è®¿é—®åŸå‹ä¸­çš„å±æ€§ã€‚æˆ‘ä»¬ä¸å¦¨æŠŠJavaScriptè°ƒç”¨<strong>new</strong>çš„è¿‡ç¨‹ä¸»è¦ç”±ä¸‹é¢å››æ­¥ç»„æˆï¼š</p>
<blockquote>
<ol>
<li>æ–°ç”Ÿæˆä¸€ä¸ªç©ºå¯¹è±¡</li>
<li>å°†ç©ºå¯¹è±¡é“¾æ¥åˆ°åŸå‹ä¸­</li>
<li>ç»‘å®šthis</li>
<li>è¿”å›æ–°å¯¹è±¡</li>
</ol>
</blockquote>
<p>ä¸‹é¢è·Ÿç€æˆ‘æŒ‰ç…§è¿™ä¸ªæ€è·¯æ¥åˆ›å»ºå¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//Todo</span></span><br><span class="line">&#125;</span><br><span class="line">person = create(Person,<span class="string">"xuan"</span>);<span class="comment">//create(ObjectName,...arguments)</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸Šæ‰€ç¤ºçš„å‡½æ•°æ¥æ¨¡æ‹Ÿ<strong>new</strong>å…³é”®å­—ã€‚</p>
<p>é¦–å…ˆç¬¬ä¸€æ­¥æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line">person = create(Person,<span class="string">"xuan"</span>);</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨å·²ç»åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå½“ç„¶ç°åœ¨æ‰“å°å‡ºæ¥è‚¯å®šæ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œæ¯•ç«Ÿæµç¨‹è¿˜æ²¡æœ‰èµ°å®Œï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚</p>
<p>ç¬¬äºŒæ­¥é“¾æ¥åˆ°åŸå‹ä¸­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">constructor</span> = [].shift.call(arguments);</span><br><span class="line">    console.log(<span class="keyword">constructor</span>);</span><br><span class="line">    console.log(arguments);</span><br><span class="line">    obj.__proto__ = <span class="keyword">constructor</span>.prototype;</span><br><span class="line">    return obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person = create(Person,"xuan");</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/image-20190221235358202.png" alt="image-20190221235358202"></p>
<p>ç°åœ¨æŠŠæ„é€ å‡½æ•°å’Œå‚æ•°éƒ½æ‰“å°å‡ºæ¥äº†ã€‚æ²¡é—®é¢˜ï¼</p>
<p>ç¬¬ä¸‰æ­¥ç»‘å®šthisï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">constructor</span> = [].shift.call(arguments)</span><br><span class="line">  obj.__proto__ = <span class="keyword">constructor</span>.prototype</span><br><span class="line">  <span class="keyword">constructor</span>.apply(obj, arguments);</span><br><span class="line">  console.log(obj);  </span><br><span class="line">  return obj;</span><br><span class="line">&#125;</span><br><span class="line">person = create(Person,"xuan");</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/image-20190222002407145.png" alt="image-20190222002407145"></p>
<p>æ‰“å°ç»“æœå®ç°newå¯¹è±¡çš„æ•ˆæœã€‚</p>
<p>ç°åœ¨æ”¹ä¸€ä¸‹æ„é€ å‡½æ•°ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name:<span class="string">"abc"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"xuan"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(person));</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹:</p>
<p><img src="/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/image-20190222002825742.png" alt="image-20190222002825742"></p>
<p>æˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹æˆ‘ä»¬æ„å»ºçš„å‡½æ•°æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/image-20190222002932127.png" alt="image-20190222002932127"></p>
<p>å‘ç°ä¸ä¸€è‡´ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¤„ç†ç¬¬ä¸‰æ­¥ç»‘å®šthisä¸­applyå‡½æ•°çš„è¿”å›å€¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">constructor</span> = [].shift.call(arguments)</span><br><span class="line">  obj.__proto__ = <span class="keyword">constructor</span>.prototype</span><br><span class="line">  //<span class="keyword">constructor</span>.apply(obj, arguments);</span><br><span class="line">  let res = <span class="keyword">constructor</span>.apply(obj, arguments);</span><br><span class="line">  if(res)&#123;</span><br><span class="line">     <span class="keyword">return</span> res;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">person = create(Person,<span class="string">"xuan"</span>);</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/image-20190222003313618.png" alt="image-20190222003313618"></p>
<p>å®Œç¾ï¼</p>
<p>ç°åœ¨æˆ‘ä»¬æ€è€ƒä¸€ä¸‹è¿™é‡Œçš„resè¿”å›å€¼æœ‰ä¸‰ç§æƒ…å†µï¼šundefinedï¼ŒåŸºæœ¬ç±»å‹ï¼Œå¯¹è±¡ã€‚</p>
<blockquote>
<p>å¦‚æœresæ˜¯undefinedæ—¶ï¼Œè¿”å›objï¼›</p>
<p>å¦‚æœresæ˜¯åŸºæœ¬ç±»å‹æˆ‘ä»¬ä¹Ÿè¿”å›objï¼›</p>
<p>å¦‚æœresæ˜¯å¯¹è±¡æˆ‘ä»¬è¿”å›reså¯¹è±¡ï¼›</p>
</blockquote>
<p>ç»¼åˆä¸€ä¸‹ï¼š</p>
<p>å¦‚æœè¿”å›çš„reså¯¹è±¡æ˜¯Objectç±»å‹é‚£ä¹ˆè¿”å›resï¼Œå¦åˆ™è¿”å›objã€‚å½“ç„¶å…¶ä»–çš„åˆ¤æ–­æ¡ä»¶ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚æœ€åä»£ç ä¼˜åŒ–å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">constructor</span> = [].shift.call(arguments)</span><br><span class="line">  obj.__proto__ = <span class="keyword">constructor</span>.prototype</span><br><span class="line">  //<span class="keyword">constructor</span>.apply(obj, arguments);</span><br><span class="line">  let res = <span class="keyword">constructor</span>.apply(obj, arguments);</span><br><span class="line">  return res instanceof Object?res:obj;</span><br><span class="line">&#125;</span><br><span class="line">person = create(Person,"xuan");</span><br></pre></td></tr></table></figure>
<h2 id="å‡ ä¸ªé—®é¢˜"><a href="#å‡ ä¸ªé—®é¢˜" class="headerlink" title="å‡ ä¸ªé—®é¢˜"></a>å‡ ä¸ªé—®é¢˜</h2><p>ç°åœ¨çš„ä»£ç å·²ç»å®Œç¾äº†ä¹ˆï¼Ÿæˆ‘ä»¬å…ˆæ¥æå‡ ä¸ªé—®é¢˜ã€‚</p>
<blockquote>
<ol>
<li>new Object()åˆ›å»ºçš„å¯¹è±¡çº¯å‡€ä¹ˆï¼Ÿ</li>
<li>ä¸ºå•¥ä½¿ç”¨[].shift.call()æ¥è¿›è¡Œå‚æ•°åˆ†å‰²ï¼Ÿargumentsæ˜¯ä¸€ä¸ªæ•°ç»„ä¹ˆï¼Ÿ</li>
</ol>
</blockquote>
<h3 id="new-Object-åˆ›å»ºçš„å¯¹è±¡çº¯å‡€ä¹ˆï¼Ÿ"><a href="#new-Object-åˆ›å»ºçš„å¯¹è±¡çº¯å‡€ä¹ˆï¼Ÿ" class="headerlink" title="new Object()åˆ›å»ºçš„å¯¹è±¡çº¯å‡€ä¹ˆï¼Ÿ"></a>new Object()åˆ›å»ºçš„å¯¹è±¡çº¯å‡€ä¹ˆï¼Ÿ</h3><p>é¦–å…ˆä»€ä¹ˆæ˜¯çº¯å‡€ï¼Ÿæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå¯¹è±¡çš„<code>__proto__</code>å±æ€§ä¸ºç©ºçš„å¯¹è±¡æ˜¯ä¸€ä¸ªçº¯å‡€çš„å¯¹è±¡ã€‚</p>
<p>åœ¨ç¬¬äºŒæ­¥çš„æ—¶å€™ä¸­å·²ç»æ”¹å˜çš„objçš„åŸå‹é“¾ï¼Œæ‰€ä»¥æ— è®ºå®ƒå‰é¢çš„åŸå‹é“¾æ˜¯å’‹æ ·çš„éƒ½æ— æ‰€è°“ï¼Œä½†æ˜¯ä¸ºäº†ä¿è¯å¯¹è±¡çš„çº¯å‡€æ€§ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å¼•å‡º<code>Object.create()</code>ï¼Œè¯¥æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºçš„å¯¹è±¡çš„<code>__proto__</code>ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person1 = <span class="built_in">Object</span>.create(&#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>æ‰“å°å¦‚ä¸‹:</p>
<p><img src="/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/image-20190222192124090.png" alt="image-20190222192124090"></p>
<p>æˆ‘ä»¬çœ‹åˆ°person1çš„<code>__proto__</code>æŒ‡å‘äº†<code>{}</code>å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä¸Šè¿°ä»£ç ä¸­ç›´æ¥ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">constructor</span> = [].shift.call(arguments);</span><br><span class="line">  let obj = Object.create(<span class="keyword">constructor</span>.prototype);</span><br><span class="line">  let res = <span class="keyword">constructor</span>.apply(obj, arguments);</span><br><span class="line">  return res instanceof Object?res:obj;</span><br><span class="line">&#125;</span><br><span class="line">person = create(Person,"xuan");</span><br></pre></td></tr></table></figure>
<h3 id="ä¸ºå•¥ä½¿ç”¨-shift-call-æ¥è¿›è¡Œå‚æ•°åˆ†å‰²ï¼Ÿargumentsæ˜¯ä¸€ä¸ªæ•°ç»„ä¹ˆï¼Ÿ"><a href="#ä¸ºå•¥ä½¿ç”¨-shift-call-æ¥è¿›è¡Œå‚æ•°åˆ†å‰²ï¼Ÿargumentsæ˜¯ä¸€ä¸ªæ•°ç»„ä¹ˆï¼Ÿ" class="headerlink" title="ä¸ºå•¥ä½¿ç”¨[].shift.call()æ¥è¿›è¡Œå‚æ•°åˆ†å‰²ï¼Ÿargumentsæ˜¯ä¸€ä¸ªæ•°ç»„ä¹ˆï¼Ÿ"></a>ä¸ºå•¥ä½¿ç”¨[].shift.call()æ¥è¿›è¡Œå‚æ•°åˆ†å‰²ï¼Ÿargumentsæ˜¯ä¸€ä¸ªæ•°ç»„ä¹ˆï¼Ÿ</h3><p>é¦–å…ˆæˆ‘ä»¬çŸ¥é“argumentsæ˜¯å‡½æ•°ä¼ å…¥çš„å‚æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°æ˜¯æ•°ç»„ä¹ˆï¼Ÿæˆ‘ä»¬æ‰“å°ä¸€ä¸‹ä¾¿çŸ¥ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">arguments</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span> <span class="keyword">instanceof</span> <span class="built_in">Array</span>);</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹</p>
<p><img src="/2019/02/21/JavaScriptæ–°å»ºå¯¹è±¡çš„æ¨¡æ‹Ÿ/image-20190222193001990.png" alt="image-20190222193001990"></p>
<p>ä¸æ˜¯æ•°ç»„ã€‚æˆ‘ä»¬å±•å¼€å‘ç°ä»–è·Ÿæ•°ç»„å¾ˆåƒï¼ŒæŸ¥ä¸€ä¸‹èµ„æ–™å‘ç°è¿™ä¸ªå¯¹è±¡æ˜¯<strong>ç±»æ•°ç»„</strong>ã€‚é‡Œé¢æ²¡æœ‰shiftå‡½æ•°ï¼Œç›´æ¥è°ƒç”¨shiftä¼šæŠ¥é”™ã€‚æˆ‘ä»¬ä½¿ç”¨ä½¿ç”¨Array.from(arguments)å°†argumentsè½¬æˆæ•°ç»„ï¼Œç„¶ååœ¨è°ƒç”¨shiftå‡½æ•°ä¹Ÿæ˜¯ä¸€ç§æ€è·¯ã€‚ä½†æ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨applyæœ€é€‚åˆã€‚æ‰€ä»¥ä¸‹è¿°ä»£ç æ˜¯æ¨¡æ‹Ÿnew Object()çš„æœ€ä¼˜ä»£ç :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">constructor</span> = [].shift.call(arguments);</span><br><span class="line">  let obj = Object.create(<span class="keyword">constructor</span>.prototype);</span><br><span class="line">  let res = <span class="keyword">constructor</span>.apply(obj, arguments);</span><br><span class="line">  return res instanceof Object?res:obj;</span><br><span class="line">&#125;</span><br><span class="line">person = create(Person,"xuan");</span><br></pre></td></tr></table></figure>
<p>è¿˜æœ‰æ›´ä¼˜çš„å®ç°æ–¹æ³•ï¼Œè¯·å¤§ä½¬ä»¬ä¸åæ‹ç –ï¼</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2019/02/20/æ‰‹å†™MVVM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/20/æ‰‹å†™MVVM/" itemprop="url">æ¨¡æ‹ŸVueçš„MVVM</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-02-20T20:37:22+08:00">
                2019-02-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vue/" itemprop="url" rel="index">
                    <span itemprop="name">Vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><p>ä¸ºäº†çœŸæ­£çš„äº†è§£MVVMçš„æ ¸å¿ƒæ€æƒ³ï¼Œæœ¬æ–‡ä»¥Vueæ¡†æ¶ä¸ºåˆ‡å…¥ç‚¹ï¼Œæ‰‹å†™æ¨¡æ‹Ÿå®ç°Vueæ¡†æ¶çš„åŒå‘æ•°æ®ç»‘å®šï¼Œæœ¬æ–‡é€‚åˆæƒ³è¿›ä¸€æ­¥äº†è§£Vueåº•å±‚çš„åŒå­¦ï¼Œå½“ç„¶å¯¹äºæƒ³å½»åº•ææ‡‚MVVMåŸç†çš„åŒå­¦ä¹Ÿä¼šæœ‰æ‰€å¯å‘ã€‚</p>
<h2 id="MVVMæ¦‚å¿µ"><a href="#MVVMæ¦‚å¿µ" class="headerlink" title="MVVMæ¦‚å¿µ"></a>MVVMæ¦‚å¿µ</h2><p><img src="https://user-images.githubusercontent.com/14359831/53066571-76780400-350b-11e9-8314-d3ac5785e910.png" alt="image"></p>
<p>MVVMçš„æ¦‚å¿µå¯ä»¥å‚è€ƒå¾ˆå¤šæ–‡ç« ï¼Œæ¯”å¦‚<a href="http://www.ruanyifeng.com/blog/2015/02/mvcmvp_mvvm.html" target="_blank" rel="noopener">è¿™ç¯‡</a>ï¼Œå…¶æœ€æ ¸å¿ƒçš„å°±æ˜¯å®ç°<strong>è§†å›¾</strong>å’Œ<strong>è§†å›¾æ¨¡å‹</strong>çš„åŒå‘ç»‘å®šã€‚æœ¬æ–‡ä¸»è¦æ¢ç©¶MVVMåœ¨Vueä¸­çš„å®ç°ï¼Œä¸‹é¢å°†ä¼šå›´ç»•è¿™ä¸ªä¸»é¢˜è¿›è¡Œå±•å¼€ã€‚</p>
<h2 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty()"></a>Object.defineProperty()</h2><p>åœ¨è®²è§£Vueçš„åŒå‘ç»‘å®šä¹‹å‰ï¼Œå…ˆæ¥å›é¡¾ä¸€ä¸‹Object.defineProperty()ï¼Œåœ¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">MDN</a>ä¸­ä¹Ÿæœ‰è¯¦ç»†çš„è§£é‡Šï¼Œå·²ç»çŸ¥é“çš„åŒå­¦å¯ä»¥è·³è¿‡è¿™ä¸ªç« ï¼Œæ²¡çœ‹è¿‡çš„åŒå­¦å»ºè®®å¾€ä¸‹çœ‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;    </span><br><span class="line">person.name = <span class="string">"xuan"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç åœ¨æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘ä¸­å¸ç©ºè§æƒ¯ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53067188-146cce00-350e-11e9-9de9-8411981353c7.png" alt="image"></p>
<p>ç°åœ¨æˆ‘ä»¬æ”¹å†™ä¸€ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person,</span><br><span class="line">	<span class="string">"name"</span>,</span><br><span class="line">    &#123;</span><br><span class="line">    	value:<span class="string">"xuan"</span> </span><br><span class="line">	&#125;</span><br><span class="line">);</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>
<p>åœ¨IE8ä»¥ä¸Šæµè§ˆå™¨ä¸­æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53067251-63b2fe80-350e-11e9-9cad-9c948a42c573.png" alt="image"></p>
<p>ä¸€ç‚¹é—®é¢˜æ²¡æœ‰ã€‚ä¸‹é¢æˆ‘ä»¬æ”¹ä¸€ä¸‹è¿™ä¸ªå¯¹è±¡å±æ€§ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person,</span><br><span class="line">     <span class="string">"name"</span>,</span><br><span class="line">	&#123;</span><br><span class="line">    	value:<span class="string">"xuan"</span></span><br><span class="line">	&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br><span class="line">person.name = <span class="string">"xue"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53067332-b987a680-350e-11e9-9bb7-217c73fa6021.png" alt="image"></p>
<p>æˆ‘ä»¬å‘ç°ç»“æœæ²¡æœ‰å˜åŒ–ï¼Œç›´æ¥ä½¿ç”¨â€å¯¹è±¡.å±æ€§â€çš„æ–¹æ³•å·²ç»å¤±æ•ˆï¼ŒæŸ¥ä¸€ä¸‹APIï¼Œåœ¨ä»£ç ä¸­æ·»åŠ writableå±æ€§</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person,</span><br><span class="line">	<span class="string">"name"</span>,</span><br><span class="line">	&#123;</span><br><span class="line">		value:<span class="string">"xuan"</span>,</span><br><span class="line">        writable:<span class="literal">true</span></span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="built_in">console</span>.log(person);</span><br><span class="line">     person.name = <span class="string">"xue"</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53067431-1daa6a80-350f-11e9-877f-2ad6a79cb2f2.png" alt="image"></p>
<p>ç°åœ¨å·²ç»å¯ä»¥ä¿®æ”¹å¯¹è±¡å±æ€§äº†ï¼Œæ‰€ä»¥<strong>writableå±æ€§å°±æ˜¯å¯å¤å†™çš„</strong>ã€‚åœ¨APIä¸­è¿˜å­˜åœ¨<strong>configurable</strong>å’Œ<strong>enumerable</strong>å±æ€§ï¼ŒMDNè¿™ä¹ˆè¯´çš„ï¼š</p>
<blockquote>
<p><em><em>configurable</em></em>  </p>
<p>å½“ä¸”ä»…å½“è¯¥å±æ€§çš„ configurable ä¸º true æ—¶ï¼Œè¯¥å±æ€§æè¿°ç¬¦æ‰èƒ½å¤Ÿè¢«æ”¹å˜ï¼ŒåŒæ—¶è¯¥å±æ€§ä¹Ÿèƒ½ä»å¯¹åº”çš„å¯¹è±¡ä¸Šè¢«åˆ é™¤ã€‚</p>
<p><em><em>enumerable</em></em></p>
<p> å½“ä¸”ä»…å½“è¯¥å±æ€§çš„enumerableä¸ºtrueæ—¶ï¼Œè¯¥å±æ€§æ‰èƒ½å¤Ÿå‡ºç°åœ¨å¯¹è±¡çš„æšä¸¾å±æ€§ä¸­ã€‚é»˜è®¤ä¸º falseã€‚</p>
</blockquote>
<p> å¦‚æœè§‰å¾—ä¸æ˜ç™½ï¼Œçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;; </span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person,</span><br><span class="line">	<span class="string">"name"</span>,</span><br><span class="line">	&#123;</span><br><span class="line">    	value:<span class="string">"xuan"</span>,</span><br><span class="line">		writable:<span class="literal">true</span>,</span><br><span class="line">    	configurable:<span class="literal">true</span>,</span><br><span class="line">    	enumerable:<span class="literal">true</span></span><br><span class="line">	&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br><span class="line"><span class="keyword">delete</span> person.name;</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br><span class="line">person.name = <span class="string">"xuan"</span>;</span><br><span class="line">person.age = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> person)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹:</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53067658-1899eb00-3510-11e9-97b3-417377aad939.png" alt="image"></p>
<p>ç®€è€Œè¨€ä¹‹ï¼š<strong>configurable å°±æ˜¯å¯åˆ é™¤çš„ï¼Œenumerableå°±æ˜¯å¯éå†çš„</strong>ã€‚åœ¨APIä¸­è¿˜æœ‰ä¸¤ä¸ªé…ç½®é¡¹setå’Œgetï¼ŒåºŸè¯ä¸è¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"> <span class="built_in">Object</span>.defineProperty(person,</span><br><span class="line"> 		<span class="string">"name"</span>,</span><br><span class="line"> 		&#123;</span><br><span class="line"> 			value: <span class="string">"xuan"</span>,</span><br><span class="line"> 			writable: <span class="literal">true</span>,</span><br><span class="line"> 			configurable: <span class="literal">true</span>,</span><br><span class="line">            enumerable: <span class="literal">true</span>,</span><br><span class="line">            set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">            	<span class="built_in">console</span>.log(<span class="string">`æ­¤å¤„è®¾ç½®ä¸€ä¸ªæ–°å€¼:<span class="subst">$&#123;newVal&#125;</span>`</span>)</span><br><span class="line">            	<span class="keyword">this</span>.value = newVal;</span><br><span class="line">            	&#125;,</span><br><span class="line">            get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            	<span class="built_in">console</span>.log(<span class="string">`æ­¤å¤„è·å–ä¸€ä¸ªå€¼:<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>`</span>)</span><br><span class="line">            	<span class="keyword">return</span> <span class="keyword">this</span>.value;</span><br><span class="line">            	&#125;</span><br><span class="line">            &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>
<p>ç»“æœæŠ¥é”™</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53078096-69204100-352e-11e9-8062-88ed4b2bc806.png" alt="image"></p>
<p>ä¸Šè¿°é”™è¯¯çš„æ„æ€æ˜¯æˆ‘ä»¬è¦æŠŠwritableå’Œvalueé…ç½®é¡¹å»æ‰ã€‚ä¸ºä»€ä¹ˆï¼Ÿgetå’Œsetæ–¹æ³•æ˜¯è·å–å’Œè®¾ç½®å€¼çš„å‡½æ•°ï¼Œæœ‰äº†å®ƒä»¬å°±ä¸éœ€è¦writableå’Œvalueé…ç½®é¡¹äº†ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person,</span><br><span class="line">       <span class="string">"name"</span>,</span><br><span class="line">       &#123;</span><br><span class="line">    		configurable: <span class="literal">true</span>,</span><br><span class="line">    		enumerable: <span class="literal">true</span>,</span><br><span class="line">    		set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`æ­¤å¤„è®¾ç½®ä¸€ä¸ªæ–°å€¼:<span class="subst">$&#123;newVal&#125;</span>`</span>)</span><br><span class="line">                <span class="keyword">this</span>.value = newVal;</span><br><span class="line">            &#125;,</span><br><span class="line">    		get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`æ­¤å¤„è·å–ä¸€ä¸ªå€¼:<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>`</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.value;</span><br><span class="line">            &#125;</span><br><span class="line">		&#125;);</span><br><span class="line">person.name = <span class="string">"xuan"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br><span class="line"><span class="built_in">console</span>.log(person.name);</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53078543-65d98500-352f-11e9-9610-c19fbb9badde.png" alt="image"></p>
<p>åœ¨è®¾ç½®å’Œè·å–è¿™ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œéƒ½ä¼šæ‰“å°ç›¸åº”çš„ä¿¡æ¯ã€‚ä¸€æ—¦å¯¹è±¡çš„ä¿¡æ¯æœ‰æ‰€ä¿®æ”¹ï¼Œæˆ‘ä»¬éƒ½èƒ½ç¬¬ä¸€æ—¶é—´å‘ç°å®ƒï¼Œè¿™å°±æ˜¯<strong><em>\</em>æ•°æ®åŠ«æŒ**</strong>ã€‚å½“å¯¹è±¡çš„å€¼æ”¹å˜çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿè‡ªåŠ¨å»æ›´æ–°å¯¹åº”çš„è§†å›¾ï¼Œå°±èƒ½å¤Ÿå®Œæˆä»<strong><em>\</em>å¯¹è±¡è§†å›¾æ¨¡å‹ï¼ˆVMï¼‰=&gt;è§†å›¾**</strong>çš„å•å‘æ•°æ®æµç»‘å®šã€‚</p>
<h2 id="æ¨¡æ‹ŸVueçš„æ•°æ®åŠ«æŒ"><a href="#æ¨¡æ‹ŸVueçš„æ•°æ®åŠ«æŒ" class="headerlink" title="æ¨¡æ‹ŸVueçš„æ•°æ®åŠ«æŒ"></a>æ¨¡æ‹ŸVueçš„æ•°æ®åŠ«æŒ</h2><p>åœ¨è®²è§£æ•°æ®åŠ«æŒä¹‹å‰ï¼Œå…ˆæ¥çœ‹ä¸‹é¢ä¸€æ®µä»£ç </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vue = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">		el:<span class="string">"#app"</span>,</span><br><span class="line">		data:&#123;</span><br><span class="line">			name:<span class="string">"xuan"</span></span><br><span class="line">			&#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ä¸ªæœ€æœ€åŸºæœ¬çš„Vueç¨‹åºï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰å¯¼å…¥Vueçš„åº“ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ç•Œé¢çš„æ•ˆæœï¼š</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53079277-0b412880-3531-11e9-8577-cba5b71780ff.png" alt="image"></p>
<p>ç°åœ¨æˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°ä»»ä½•æ•ˆæœï¼Œæ§åˆ¶å°è¿˜è¾“å‡ºé”™è¯¯ã€‚å¥½ï¼Œæˆ‘ä»¬ç°åœ¨åªæ˜¯æ­å»ºäº†ä¸€ä¸ªç©ºå£³ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€æ­¥æ­¥æ¥å®ç°å’Œå®Œå–„å®ƒã€‚</p>
<h3 id="åŠ«æŒVueä¸­çš„dataå±æ€§ä¸­çš„å¯¹è±¡"><a href="#åŠ«æŒVueä¸­çš„dataå±æ€§ä¸­çš„å¯¹è±¡" class="headerlink" title="åŠ«æŒVueä¸­çš„dataå±æ€§ä¸­çš„å¯¹è±¡"></a>åŠ«æŒVueä¸­çš„dataå±æ€§ä¸­çš„å¯¹è±¡</h3><p>  æˆ‘ä»¬å…ˆæ¥å®šä¹‰ä¸€ä¸ªVueç±»ï¼Œç„¶ååŠ«æŒä¼ å…¥é…ç½®é¡¹çš„dataå±æ€§ä¸­çš„å¯¹è±¡ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vue</span>(<span class="params">options=&#123;&#125;</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.$options = options;</span><br><span class="line">	<span class="keyword">let</span> obj = <span class="keyword">this</span>._data = options.data;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">		<span class="keyword">var</span> val = obj[key];</span><br><span class="line">		<span class="built_in">Object</span>.defineProperty(obj,key,&#123;</span><br><span class="line">				configurable:<span class="literal">true</span>,</span><br><span class="line">				enumerable:<span class="literal">true</span>,</span><br><span class="line">				set:<span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>)</span>&#123;</span><br><span class="line">					<span class="keyword">if</span>(newVal ===  val) <span class="keyword">return</span>;</span><br><span class="line">					<span class="built_in">console</span>.log(<span class="string">"æ•°æ®å·²æ›´æ–°"</span>)</span><br><span class="line">					val = newVal;</span><br><span class="line">					&#125;,</span><br><span class="line">				get:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">					<span class="built_in">console</span>.log(<span class="string">"æ•°æ®å·²è·å–"</span>)</span><br><span class="line">					<span class="keyword">return</span> val;</span><br><span class="line">					&#125;</span><br><span class="line">		 &#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<em>$options</em>ç”¨äºä¿å­˜Vueçš„é…ç½®å‚æ•°å¯¹è±¡ï¼Œ<em>_data</em>ç”¨äºå­˜å‚¨çœŸæ­£çš„æ•°æ®ã€‚æˆ‘ä»¬æ‰“å°ä¸‹è¿°ä¿¡æ¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(vue);</span><br><span class="line"><span class="built_in">console</span>.log(vue._data.name=<span class="string">"xue"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(vue._data.name)</span><br></pre></td></tr></table></figure>
<p>çœ‹ä¸€ä¸‹æ•ˆæœï¼š</p>
<p><img src="https://user-images.githubusercontent.com/14359831/53082677-527ee780-3538-11e9-8066-61064a6a890c.png" alt="image"> </p>
<p>æˆ‘ä»¬éœ€è¦çš„æ•ˆæœå®ç°äº†ï¼æˆ‘ä»¬æŠŠä»£ç æ•´ç†ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vue = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">"#app"</span>,</span><br><span class="line">	data: &#123;</span><br><span class="line">		name: <span class="string">"xuan"</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(vue);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vue</span>(<span class="params">options = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.$options = options;</span><br><span class="line">	<span class="keyword">let</span> data = <span class="keyword">this</span>._data = options.data;</span><br><span class="line">	observe(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">new</span> Observe(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Observe</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> keys = <span class="built_in">Object</span>.getOwnPropertyNames(data);</span><br><span class="line">	keys.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> val = data[key];</span><br><span class="line">		<span class="built_in">Object</span>.defineProperty(data, key, &#123;</span><br><span class="line">				enumerable: <span class="literal">true</span>,</span><br><span class="line">				configurable: <span class="literal">false</span>,</span><br><span class="line">				get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">					<span class="keyword">return</span> val;</span><br><span class="line">				&#125;,</span><br><span class="line">				set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">					<span class="built_in">console</span>.log(<span class="string">'è·å–æ•°æ®å±æ€§ '</span>, val, <span class="string">' --&gt; '</span>, newVal);</span><br><span class="line">					val = newVal;</span><br><span class="line">				&#125;&#125;);</span><br><span class="line">		&#125;, <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æŠŠæ•°æ®åŠ«æŒçš„ä»£ç é€»è¾‘å†™åœ¨Observeç±»ä¸­ï¼Œæˆ‘ä»¬ä¸‹é¢å°±æ˜¯å›´ç»•è¿™ä¸ªå±•å¼€ã€‚</p>
<p>å‘ƒâ€¦ç°åœ¨æˆ‘ä»¬çš„æ•ˆæœçœŸè¾¾åˆ°äº†ä¹ˆï¼Ÿæˆ‘ä»¬é‡æ–°è®¾ç½®ä¸€ä¸‹vueå¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vue = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">"#app"</span>,</span><br><span class="line">	data: &#123;</span><br><span class="line">		name: <span class="string">"xuan"</span>,</span><br><span class="line">		degree:&#123;</span><br><span class="line">			name:<span class="string">"master"</span>,</span><br><span class="line">			time:<span class="string">"3year"</span></span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(vue);</span><br></pre></td></tr></table></figure>
<p>ç»“æœæ˜¾ç¤ºå¦‚ä¸‹</p>
<p><img src="/2019/02/20/æ‰‹å†™MVVM/image-20190220220513732.png" alt="image-20190220220513732"></p>
<p>æˆ‘ä»¬å‘ç°nameå±æ€§è¿˜æ˜¯æœ‰setå’Œgetæ–¹æ³•ï¼Œä½†æ˜¯degreeå¯¹è±¡è¿˜åµŒå¥—ç€å¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦é€’å½’éå†æ•´ä¸ªå¯¹è±¡ã€‚äºæ˜¯æ·»åŠ ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Observe</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> data!=<span class="string">"object"</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">var</span> keys = <span class="built_in">Object</span>.getOwnPropertyNames(data);</span><br><span class="line">    keys.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> val = data[key];</span><br><span class="line">        observe(val);</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(data, key, &#123;</span><br><span class="line">            enumerable: <span class="literal">true</span>,</span><br><span class="line">            configurable: <span class="literal">false</span>,</span><br><span class="line">            get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'è·å–æ•°æ®å±æ€§'</span>,val);</span><br><span class="line">                <span class="keyword">return</span> val;</span><br><span class="line">            &#125;,</span><br><span class="line">            set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'è®¾ç½®æ•°æ®å±æ€§ '</span>, val, <span class="string">' --&gt; '</span>, newVal);</span><br><span class="line">                val = newVal;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;, <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œåœ¨var val = data[key]åæ·»åŠ observe(val)ï¼Œå¯¹è·å–çš„å±æ€§å€¼è¿›è¡Œè§‚å¯Ÿï¼Œç„¶ååœ¨è®¾ç½®é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼Œ if(typeof data!=â€objectâ€) return;æœ€åæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/20/æ‰‹å†™MVVM/image-20190220220624044.png" alt="image-20190220220624044"></p>
<p>ä¸‹é¢å†æ¥å†™ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vue = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">         name: <span class="string">"xuan"</span>,</span><br><span class="line">         degree: &#123;</span><br><span class="line">               name: <span class="string">"master"</span>,</span><br><span class="line">                time: <span class="string">"3year"</span></span><br><span class="line">    	&#125;</span><br><span class="line">  	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">vue._data.name = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="built_in">console</span>.log(vue);</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/20/æ‰‹å†™MVVM/image-20190220225340987.png" alt="image-20190220225340987"></p>
<p>æˆ‘ä»¬å‘ç°nameå±æ€§å…¶å®å·²ç»è¢«åŠ«æŒåˆ°äº†ï¼Œä½†æ˜¯ä¼ è¿›å»çš„å¯¹è±¡æ²¡æœ‰è¢«åŠ«æŒåˆ°ï¼Œæ‰€ä»¥åœ¨setæ–¹æ³•é‡Œé¢ä¹Ÿéœ€è¦æ·»åŠ observeå‡½æ•°ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Observe</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(data==<span class="literal">null</span> || <span class="keyword">typeof</span> data!=<span class="string">"object"</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">Object</span>.keys(data).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> val = data[key];</span><br><span class="line">        observe(val);</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(data, key, &#123;</span><br><span class="line">            enumerable: <span class="literal">true</span>,</span><br><span class="line">            configurable: <span class="literal">false</span>,</span><br><span class="line">            get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'è·å–æ•°æ®å±æ€§'</span>,val);</span><br><span class="line">                <span class="keyword">return</span> val;</span><br><span class="line">            &#125;,</span><br><span class="line">            set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'è®¾ç½®æ•°æ®å±æ€§ '</span>, val, <span class="string">' --&gt; '</span>, newVal);</span><br><span class="line">                val = newVal;</span><br><span class="line">                observe(val);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="/2019/02/20/æ‰‹å†™MVVM/image-20190220225646064.png" alt="image-20190220225646064"></p>
<p>ä¸Šè¿°åŸºæœ¬å®Œæˆäº†å¯¹äºé…ç½®å¯¹è±¡ä¸­dataå±æ€§çš„<strong>æ•°æ®åŠ«æŒ</strong>ã€‚</p>
<h2 id="æ•°æ®ä»£ç†"><a href="#æ•°æ®ä»£ç†" class="headerlink" title="æ•°æ®ä»£ç†"></a>æ•°æ®ä»£ç†</h2><p><strong>## References</strong></p>
<p><a href="https://github.com/livoras/blog/issues/11" target="_blank" rel="noopener">ç•Œé¢ä¹‹ä¸‹ï¼šè¿˜åŸçœŸå®çš„MV*æ¨¡å¼</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2019/02/13/translation/CSSOM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/13/translation/CSSOM/" itemprop="url">CSSå¯¹è±¡æ¨¡å‹ï¼ˆCSSOMï¼‰æŒ‡å—</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-02-13T23:43:23+08:00">
                2019-02-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>ä½œè€…ï¼š<a href="https://css-tricks.com/author/lazaris/" target="_blank" rel="noopener">Louis Lazaris</a></p>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/" target="_blank" rel="noopener">https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/</a></p>
</blockquote>
<p>å¦‚æœæ‚¨å·²ç»ç¼–å†™äº†ä¸€æ®µæ—¶é—´çš„JavaScriptï¼Œé‚£ä¹ˆå¯ä»¥è‚¯å®šæ‚¨ä½¿ç”¨è¿‡ä¸€äº›ç”¨äºå¤„ç†<strong>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰</strong>çš„è„šæœ¬ã€‚DOMè„šæœ¬åˆ©ç”¨ç½‘é¡µæä¾›çš„ä¸€ç»„APIï¼ˆæˆ–æ¥å£ï¼‰æ¥æ“ä½œå’Œå¤„ç†é¡µé¢ä¸Šçš„å…ƒç´ ã€‚</p>
<p>é‚£ä¹ˆï¼Œæ‚¨åº”è¯¥è¿˜ç†Ÿæ‚‰å¦ä¸€ä¸ªå¯¹è±¡æ¨¡å‹ï¼šCSSå¯¹è±¡æ¨¡å‹ï¼ˆCSSOMï¼‰ï¼Œå¯èƒ½ä½ å·²ç»åœ¨æ— æ„è¯†çš„æ—¶å€™ä½¿ç”¨è¿‡å®ƒã€‚</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»‹ç»CSSOMçš„è®¸å¤šé‡è¦çš„åŠŸèƒ½ï¼Œä»æœ€å¸¸è§çš„å¼€å§‹ï¼Œæ…¢æ…¢è½¬å‘ä¸€äº›å¤§å®¶ä¸æ¸…æ¥šä½†å¾ˆå®ç”¨çš„å°åŠŸèƒ½ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯CSSOM"><a href="#ä»€ä¹ˆæ˜¯CSSOM" class="headerlink" title="#ä»€ä¹ˆæ˜¯CSSOM?"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-0" target="_blank" rel="noopener">#</a>ä»€ä¹ˆæ˜¯CSSOM?</h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model" target="_blank" rel="noopener">æ ¹æ®MDN</a>:</p>
<blockquote>
<p>CSSå¯¹è±¡æ¨¡å‹æ˜¯JavaScriptå¤„ç†CSSçš„APIã€‚å®ƒå¾ˆåƒDOMï¼Œåªæ˜¯é¢å‘CSSè€Œä¸æ˜¯HTMLã€‚å®ƒå…è®¸ç”¨æˆ·åŠ¨æ€åœ°è¯»å–å’Œä¿®æ”¹CSSæ ·å¼ã€‚ </p>
</blockquote>
<p>MDNçš„ä¿¡æ¯åŸºäº <a href="https://drafts.csswg.org/cssom/" target="_blank" rel="noopener">å®˜æ–¹çš„W3C CSSOMè§„èŒƒ</a>. ç”¨W3Cæ–‡æ¡£æ¥ç†Ÿæ‚‰CSSOMçš„æ˜¯ä¸€ç§ä½æ•ˆçš„æ–¹å¼ï¼Œä¹Ÿä¸é€‚ç”¨äºé‚£äº›æ­£åœ¨å¯»æ‰¾ä¸€äº›å®é™…ç¼–ç ç¤ºä¾‹çš„äººã€‚</p>
<p>ä½¿ç”¨MDNæ˜¾ç„¶ä¼šå¥½å¾—å¤šï¼Œè™½ç„¶åœ¨æŸäº›æ–¹é¢ä»ç„¶å¾ˆç¼ºä¹ã€‚å› æ­¤ï¼Œå¯¹äºè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘è¯•å›¾å°½åŠ›çš„å»åˆ›å»ºæœ‰ç”¨çš„ä»£ç ç¤ºä¾‹æ¥æ¼”ç¤ºï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥é€šè¿‡å®é™…ä»£ç è§£é™¤ç–‘æƒ‘ã€‚</p>
<p>å°±åƒä¸Šé¢æ‰€è¯´ï¼Œæ–‡ç« ä»å¤§å¤šæ•°å‰ç«¯å¼€å‘äººå‘˜ç†Ÿæ‚‰çš„å†…å®¹å¼€å§‹ã€‚é‡Œé¢æœ‰ä¸€äº›å…¬æœ‰å±æ€§å¸¸å¸¸å’ŒDOMè„šæœ¬æ··åœ¨ä¸€èµ·ï¼Œä½†æ˜¯CSSOMçš„APIè¿˜æ˜¯å äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ã€‚</p>
<h3 id="ä½¿ç”¨element-styleè·å–å†…è”æ ·å¼"><a href="#ä½¿ç”¨element-styleè·å–å†…è”æ ·å¼" class="headerlink" title="#ä½¿ç”¨element.styleè·å–å†…è”æ ·å¼"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-1" target="_blank" rel="noopener">#</a>ä½¿ç”¨element.styleè·å–å†…è”æ ·å¼</h3><p>ä½¿ç”¨JavaScriptæ“ä½œå’Œè·å–CSSå±æ€§å’Œå€¼çš„æœ€åŸºæœ¬æ–¹æ³•æ˜¯é€šè¿‡<code>style</code>å¯¹è±¡æˆ–å±æ€§ï¼Œè¿™ä¸ªå¯¹è±¡å’Œå±æ€§å¾€å¾€å¯¹äºæ‰€æœ‰çš„HTMLå…ƒç´ éƒ½é€‚ç”¨ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.style.background = <span class="string">'lightblue'</span>;</span><br></pre></td></tr></table></figure>
<p>å¤§å¤šæ•°äººä¹‹å‰å¯èƒ½å·²ç»çœ‹è¿‡æˆ–ç”¨è¿‡è¿™ç§è¯­æ³•ã€‚æˆ‘å¯ä»¥ä½¿ç”¨<code>element.style.propertyName</code>.çš„æ ¼å¼ä¸ºé¡µé¢ä¸Šçš„ä»»ä½•å¯¹è±¡æ·»åŠ æˆ–æ›´æ”¹CSS ã€‚</p>
<p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œæˆ‘æ­£åœ¨å°†<code>background</code>å±æ€§çš„å€¼æ›´æ”¹ä¸º<code>lightblue</code>ã€‚å½“ç„¶ï¼Œ<code>background</code>æ˜¯â€œçŸ­å±æ€§â€ï¼ˆåªæœ‰ä¸€ä¸ªå•è¯ç»„æˆçš„å±æ€§ï¼‰ã€‚å¦‚æœæˆ‘åªæƒ³æ›´æ”¹<code>background-color</code>å±æ€§æ€ä¹ˆåŠï¼Ÿå¯¹äºä»»ä½•å¸¦è¿å­—ç¬¦çš„å±æ€§ï¼Œåªéœ€å°†å±æ€§åç§°è½¬æ¢ä¸ºé©¼å³°æ³•çš„å½¢å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.style.backgroundColor = <span class="string">'lightblue'</span>;</span><br></pre></td></tr></table></figure>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œâ€œçŸ­å±æ€§â€ä»¥å°å†™å•è¯çš„å½¢å¼è¡¨ç¤ºå’Œè®¿é—®ï¼Œè€Œè¿å­—ç¬¦å±æ€§ç”¨é©¼å³°æ³•è¡¨ç¤ºã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªä¾‹å¤–æ˜¯ä½¿ç”¨<code>float</code>å±æ€§ã€‚å› ä¸º<code>float</code>æ˜¯JavaScriptä¸­çš„ä¿ç•™å­—ï¼Œæ‰€ä»¥æ‚¨éœ€è¦ä½¿ç”¨<code>cssFloat</code>ï¼ˆå¦‚æœæ‚¨æ”¯æŒIE8åŠæ›´æ—©ç‰ˆæœ¬ï¼Œè¯·ä½¿ç”¨<code>styleFloat</code>ï¼‰ã€‚è¿™ç±»ä¼¼äºHTMLä¸­çš„<code>for</code>å±æ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>htmlFor</code> æ¥è¡¨ç¤ºã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨<code>style</code>å±æ€§æ¥å…è®¸ç”¨æˆ·æ›´æ”¹å½“å‰é¡µé¢èƒŒæ™¯é¢œè‰²çš„ä¾‹å­ï¼š</p>
<iframe height="665" style="width: 100%;" scrolling="no" title="GzWBxP" src="//codepen.io/zhehuaxuan/embed/GzWBxP/?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/GzWBxP/" target="_blank" rel="noopener">GzWBxP</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>æˆ‘ä»¬ä½¿ç”¨JavaScriptå®šä¹‰CSSå±æ€§å’Œå€¼è™½ç„¶ç®€å•æ–¹æ³•ï¼Œä½†æ˜¯ä½¿ç”¨<code>style</code>å±æ€§æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å‰æï¼š<strong>åªé€‚ç”¨äºå…ƒç´ çš„å†…è”æ ·å¼</strong>ã€‚</p>
<p>å½“æ‚¨ä½¿ç”¨è¯¥<code>style</code>å±æ€§è¯»å–CSS æ—¶ï¼Œè¿™ä¸€ç‚¹å˜å¾—æ¸…æ™°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.style.backgroundColor = <span class="string">'lightblue'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.body.style.backgroundColor);</span><br><span class="line"><span class="comment">// "lightblue"</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘åœ¨<code>&lt;body&gt;</code>å…ƒç´ ä¸Šå®šä¹‰äº†ä¸€ä¸ªå†…è”æ ·å¼ï¼Œç„¶åæˆ‘å°†ç›¸åŒçš„æ ·å¼è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚ä½†æ˜¯å¦‚æœæˆ‘å°è¯•å»è¯»å–<code>style</code>çš„å¦ä¸€ä¸ªå±æ€§çš„å€¼æ—¶ï¼Œå®ƒå°†ä¸è¿”å›ä»»ä½•å†…å®¹ - é™¤éæ˜¯æˆ‘ä¹‹å‰åœ¨CSSæˆ–JavaScriptä¸­å®šä¹‰çš„å†…è”æ ·å¼ã€‚ä¾‹å¦‚ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.body.style.color);</span><br><span class="line"><span class="comment">// Returns nothing if inline style doesn't exist</span></span><br></pre></td></tr></table></figure>
<p>å³ä½¿æˆ‘ä½¿ç”¨å¤–éƒ¨æ ·å¼è¡¨çš„<code>color</code> å±æ€§å»ä¿®é¥°<code>&lt;body&gt;</code> å…ƒç´ ï¼Œä¹ŸåŒæ ·è·å–ä¸åˆ°å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="cp_embed_wrapper resizable" style="height: 434px;"><iframe name="cp_embed_2" src="https://codepen.io/impressivewebs/embed/LXPewe?height=434&amp;theme-id=1&amp;slug-hash=LXPewe&amp;default-tab=result&amp;user=impressivewebs&amp;pen-title=element.style%20Reads%20Only%20Inline%20Styles&amp;name=cp_embed_2" scrolling="no" frameborder="0" height="434" allowtransparency="true" allowfullscreen="true" allowpaymentrequest="true" title="element.styleåªè¯»å–å†…è”æ ·å¼" class="cp_embed_iframe " style="width: 100%; overflow: hidden; display: block; height: 100%;" id="cp_embed_LXPewe"></iframe><div class="win-size-grip" style="touch-action: none;"></div><div class="win-size-grip" style="touch-action: none;"></div><div class="win-size-grip" style="touch-action: none;"></div><div class="win-size-grip" style="touch-action: none;"></div></div>

<p>é€šè¿‡JavaScriptä½¿ç”¨<code>element.style</code>çš„æ–¹å¼å»æ”¹å˜å…ƒç´ çš„å±æ€§æ˜¯æœ€ç®€å•å’Œé€šç”¨çš„æ–¹å¼ï¼Œä½†æ˜¯ä½ ä¹Ÿçœ‹åˆ°è¿™é‡Œå¾ˆæ˜æ˜¾æœ‰å¾ˆå¤§çš„é™åˆ¶ï¼Œè®©æˆ‘ä»¬ç»§ç»­æ¥çœ‹ä¸€ä¸‹JavaScriptè¿˜æœ‰é‚£äº›æ›´å¥½ç”¨çš„æ–¹å¼å»è¯»å–å’Œä¿®æ”¹æˆ‘ä»¬çš„æ ·å¼ã€‚</p>
<h3 id="è·å–è®¡ç®—æ ·å¼"><a href="#è·å–è®¡ç®—æ ·å¼" class="headerlink" title="#è·å–è®¡ç®—æ ·å¼"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-2" target="_blank" rel="noopener">#</a>è·å–è®¡ç®—æ ·å¼</h3><p>æ‚¨å¯ä»¥ä½¿ç”¨<code>window.getComputedStyle()</code> æ–¹æ³•æ¥è¯»å–å…ƒç´ ä¸Šçš„ä»»ä½•CSSå±æ€§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.getComputedStyle(<span class="built_in">document</span>.body).background;</span><br><span class="line"><span class="comment">// "rgba(0, 0, 0, 0) none repeat scroll 0% 0% / auto padding-box border-box"</span></span><br></pre></td></tr></table></figure>
<p>å“‡ï¼ŒçœŸå®ä¸€ä¸ªæœ‰æ„æ€çš„ç»“æœã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œ<code>window.getComputedStyle()</code>æ˜¯<code>style</code>çš„å­ªç”Ÿå…„å¼Ÿã€‚å¦‚æœç›´æ¥ä½¿ç”¨<code>style</code>å±æ€§ç»™ä½ æä¾›çš„å…ƒç´ å®é™…æ ·å¼ä¿¡æ¯å¤ªå°‘ï¼Œé‚£ä¹ˆä½¿ç”¨<code>window.getComputedStyle()</code>ä¼šç»™æ‚¨ä¸€äº›å¯å‘ã€‚</p>
<iframe height="465" style="width: 100%;" scrolling="no" title="ä½¿ç”¨window.getComputedStyle" src="//codepen.io/zhehuaxuan/embed/NopOMB/?height=465&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>

<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>&lt;body&gt;</code>å…ƒç´ çš„<code>background</code>å±æ€§æ˜¯ä½¿ç”¨<code>background: papayawhip;</code>å®šä¹‰ã€‚ä½†<code>getComputedStyle()</code>æ–¹æ³•è¿”å›<code>background</code>å±æ€§ä¸­çš„æ‰€æœ‰å€¼ï¼Œæœªåœ¨CSSä¸­æ˜ç¡®å®šä¹‰çš„é‚£äº›å°†è¿”å›è¿™ä¸ªå±æ€§çš„åˆå§‹ï¼ˆæˆ–é»˜è®¤ï¼‰å€¼ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œå¯¹äºä»»ä½•å±æ€§ï¼Œå³ä½¿CSSä¸­æ²¡æœ‰å®šä¹‰å®ƒä»¬ï¼Œä½¿ç”¨<code>window.getComputedStyle()</code>ä»å¯ä»¥è¿”å›æ‰€æœ‰åˆå§‹å€¼ï¼š </p>
<iframe height="465" style="width: 100%;" scrolling="no" title="window.getComputedStyle()è¾“å‡ºåˆå§‹å±æ€§" src="//codepen.io/zhehuaxuan/embed/aXJRXN/?height=465&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>

<p>ç±»ä¼¼åœ°ï¼Œæ¯”å¦‚<code>width</code>å’Œ<code>height</code>è¿™æ ·çš„å±æ€§ï¼Œä¸ç®¡è¿™äº›å€¼æ˜¯å¦åœ¨CSSä¸­çš„ä»»ä½•ä½ç½®å®šä¹‰ï¼Œå®ƒå°†æ˜¾ç¤ºå…ƒç´ å¯¹åº”å±æ€§çš„è®¡ç®—å€¼ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºï¼š </p>
<iframe height="465" style="width: 100%;" scrolling="no" title="è®¡ç®—å…ƒç´ çš„widthå’Œheight" src="//codepen.io/zhehuaxuan/embed/PVpyra/?height=465&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>

<p>å°è¯•è°ƒæ•´ä¸Šé¢ç¤ºä¾‹ä¸­çš„çˆ¶å…ƒç´ å¤§å°ä»¥æŸ¥çœ‹ç»“æœã€‚è¿™ç±»ä¼¼äºè¯»å–<code>window.innerWidth</code>å€¼ï¼Œåªæ˜¯åœ¨è¿™è¾¹æ˜¯å»è·å–æŒ‡å®šå…ƒç´ ä¸ŠæŒ‡å®šå±æ€§çš„CSSå€¼ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€èˆ¬çš„çª—å£æˆ–è§†å£ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>window.getComputedStyle()</code>æ–¹æ³•ä¸­çš„å‡ ç§æ–¹å¼æ¥è®¿é—®ã€‚æˆ‘å·²ç»æ¼”ç¤ºäº†å…¶ä¸­çš„ä¸€ç§æ–¹æ³•ï¼Œå®ƒä½¿ç”¨<strong>ç‚¹ç¬¦å·+é©¼å³°å¼å±æ€§åç§°</strong>çš„æ–¹å¼æ·»åŠ åˆ°æ–¹æ³•çš„æœ«å°¾ã€‚æ‚¨å¯ä»¥åœ¨ä»¥ä¸‹ä»£ç ä¸­çœ‹åˆ°ä¸‰ç§ä¸åŒçš„æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dot notation, same as above</span></span><br><span class="line"><span class="built_in">window</span>.getComputedStyle(el).backgroundColor;</span><br><span class="line"></span><br><span class="line"><span class="comment">// square bracket notation</span></span><br><span class="line"><span class="built_in">window</span>.getComputedStyle(el)[<span class="string">'background-color'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// using getPropertyValue()</span></span><br><span class="line"><span class="built_in">window</span>.getComputedStyle(el).getPropertyValue(<span class="string">'background-color'</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ç¬¬ä¸€ç§æ–¹æ³•çš„å½¢å¼å’Œå…ˆå‰çš„é‚£ä¸ªä¾‹å­ä¸€æ ·ã€‚</p>
<p>ç¬¬äºŒç§æ–¹å¼ä½¿ç”¨ä¸­æ‹¬å·å°†CSSå±æ€§ç”¨å•å¼•å·åŒ…è£¹èµ·æ¥ï¼Œè¿™ç§æ–¹å¼ä¸æ¨èï¼Œä»£ç ç¼–è¯‘å™¨ä¼šå‘Šè­¦ã€‚</p>
<p>ç¬¬ä¸‰ç§ä½¿ç”¨<code>getPropertyValue()</code> çš„æ–¹å¼ã€‚</p>
<p>åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨éª†é©¼æ³•ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>float</code>å’Œ<code>cssFloat</code>å±æ€§éƒ½å¯ä»¥å·¥ä½œï¼‰ï¼Œè€Œæ¥ä¸‹æ¥çš„ä¸¤ä¸ªæ–¹æ³•ä½¿ç”¨ç›¸åŒçš„è¯­æ³•å½¢å¼ï¼Œä½¿ç”¨CSSä¸­çš„å±æ€§ï¼ˆè¿å­—ç¬¦ï¼Œé€šå¸¸è¢«ç§°ä¸ºâ€œçƒ¤è‚‰ç®±â€ï¼‰ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹ä¸å‰ä¸€ä¸ªç›¸åŒï¼Œä½†è¿™æ¬¡ä½¿ç”¨<code>getPropertyValue()</code>è®¿é—®ä¸¤ä¸ªå…ƒç´ çš„å®½åº¦ï¼š</p>
<p></p><p class="codepen" data-height="465" data-theme-id="dark" data-default-tab="html,result" data-user="zhehuaxuan" data-slug-hash="pGeQOy" style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="pGeQOy"><br>  <span>See the Pen <a href="https://codepen.io/zhehuaxuan/pen/pGeQOy/" target="_blank" rel="noopener"><br>  pGeQOy</a> by å®£æµ™å (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>)<br>  on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</span><br></p><p></p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<h3 id="è·å–ä¼ªå…ƒç´ çš„è®¡ç®—æ ·å¼"><a href="#è·å–ä¼ªå…ƒç´ çš„è®¡ç®—æ ·å¼" class="headerlink" title="#è·å–ä¼ªå…ƒç´ çš„è®¡ç®—æ ·å¼"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-3" target="_blank" rel="noopener">#</a>è·å–ä¼ªå…ƒç´ çš„è®¡ç®—æ ·å¼</h3><p>ä¸€ä¸ªé²œä¸ºäººçŸ¥çš„äº‹æƒ…å°±æ˜¯<code>window.getComputedStyle()</code>èƒ½å¤Ÿè·å–ä¼ªå…ƒç´ çš„æ ·å¼ä¿¡æ¯ã€‚ä½ å¯ä»¥çœ‹åˆ° <code>window.getComputedStyle()</code> æ–¹æ³•åƒå¦‚ä¸‹å½¢å¼çš„å£°æ˜ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.getComputedStyle(<span class="built_in">document</span>.body, <span class="literal">null</span>).width;</span><br></pre></td></tr></table></figure>
<p>è¯·æ³¨æ„ç¬¬äºŒä¸ªå‚æ•°, <code>null</code>, Firefoxçš„ç‰ˆæœ¬4ä¹‹å‰çš„éœ€è¦ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ ç»å¸¸åœ¨è€ä»£ç ä¸­çœ‹åˆ°å®ƒï¼ˆç›®å‰æ‰€æœ‰çš„æµè§ˆå™¨éƒ½ä¸éœ€è¦è¿™ä¸ªå‚æ•°ï¼‰ã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œå…è®¸æˆ‘ä»¬å»è·å¾—å½“å‰å…ƒç´ çš„ä¼ªå…ƒç´ çš„å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.box::before &#123;</span><br><span class="line">  content: 'Example';</span><br><span class="line">  display: block;</span><br><span class="line">  width: 50px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç»™<code>.box</code> å…ƒç´ æ·»åŠ äº†ä¸€ä¸ª<code>::before</code> çš„ä¼ªå…ƒç´ ï¼Œä¸‹é¢çš„JavaScriptä»£ç ç”¨äºè®¡ç®—ä¼ªå…ƒç´ çš„å±æ€§å€¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"><span class="built_in">window</span>.getComputedStyle(box, <span class="string">'::before'</span>).width;</span><br><span class="line"><span class="comment">// "50px"</span></span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="getComputedStyle() to get styles from a pseudo-element" src="//codepen.io/zhehuaxuan/embed/XOMOoJ/?height=265&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/XOMOoJ/" target="_blank" rel="noopener">getComputedStyle() to get styles from a pseudo-element</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>æ‚¨ä¹Ÿå¯ä»¥ä¸ºå…¶ä»–ä¼ªå…ƒç´ æ‰§è¡Œæ­¤æ“ä½œ<code>::first-line</code>ï¼Œå¦‚ä»¥ä¸‹ä»£ç å’Œæ¼”ç¤ºï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="built_in">document</span>.querySelector(<span class="string">'.box p'</span>);</span><br><span class="line"><span class="built_in">window</span>.getComputedStyle(p, <span class="string">'::first-line'</span>).color;</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="getComputedStyle() to get styles from a pseudo-element first-line" src="//codepen.io/zhehuaxuan/embed/vbxbMe/?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/vbxbMe/" target="_blank" rel="noopener">getComputedStyle() to get styles from a pseudo-element first-line</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>And hereâ€™s another example using the <code>::placeholder</code> pseudo-element, which apples to <code>&lt;input&gt;</code>elements:</p>
<p>è¿™é‡Œæœ‰å¦å¤–ä¸€ä¸ªä¾‹å­ä½¿ç”¨ä½¿ç”¨inputæ ‡ç­¾ä¸­çš„<code>::placeholder</code>ä¼ªå…ƒç´ ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> input = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>);</span><br><span class="line"><span class="built_in">window</span>.getComputedStyle(input, <span class="string">'::placeholder'</span>).color</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="getComputedStyle() to get styles from a ::placeholder" src="//codepen.io/zhehuaxuan/embed/GzWzVx/?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/GzWzVx/" target="_blank" rel="noopener">getComputedStyle() to get styles from a ::placeholder</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<blockquote>
<p>ä»¥ä¸Šå·¥ä½œåœ¨æœ€æ–°çš„Firefoxä¸­ï¼Œä½†ä¸é€‚ç”¨äºChromeæˆ–Edgeï¼ˆæˆ‘å·²ç»ä¸ºChrome æäº¤äº†é”™è¯¯æŠ¥å‘Šï¼‰ã€‚</p>
</blockquote>
<p>è¿˜åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œå°è¯•è®¿é—®ä¸å­˜åœ¨ï¼ˆä½†æœ‰æ•ˆï¼‰çš„ä¼ªå…ƒç´ çš„æ ·å¼æ—¶ï¼Œæµè§ˆå™¨ä¼šæœ‰ä¸åŒçš„ç»“æœï¼ˆ<code>::banana</code>ä¼ªå…ƒç´ ï¼‰ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¼”ç¤ºåœ¨å„ç§æµè§ˆå™¨ä¸­æŸ¥çœ‹æ•ˆæœï¼š </p>
<iframe height="465" style="width: 100%;" scrolling="no" title="Testing getComputedStyle() on non-existent pseudo-elements" src="//codepen.io/zhehuaxuan/embed/VgpRer/?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/VgpRer/" target="_blank" rel="noopener">Testing getComputedStyle() on non-existent pseudo-elements</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>ä½œä¸ºæœ¬èŠ‚çš„ä¸€ä¸ªå°ç‚¹ï¼Œæœ‰ä¸€ä¸ªåä¸ºFirefoxçš„æ–¹æ³•<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/getDefaultComputedStyle" target="_blank" rel="noopener"><code>getDefaultComputedStyle()</code></a>ï¼Œå®ƒä¸æ˜¯è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œå¯èƒ½æ°¸è¿œä¸ä¼šã€‚ </p>
<h3 id="CSSStyleDeclaration-API"><a href="#CSSStyleDeclaration-API" class="headerlink" title="#CSSStyleDeclaration API"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-4" target="_blank" rel="noopener">#</a>CSSStyleDeclaration API</h3><p>æ—©äº›æ—¶å€™ï¼Œå½“æˆ‘å‘æ‚¨å±•ç¤ºå¦‚ä½•é€šè¿‡<code>style</code>å¯¹è±¡æˆ–ä½¿ç”¨<code>getComputedStyle()</code>è®¿é—®å±æ€§ï¼Œåœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œè¿™äº›æŠ€æœ¯éƒ½æš´éœ²äº†<code>CSSStyleDeclaration</code>æ¥å£ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œä»¥ä¸‹ä¸¤è¡Œéƒ½å°†è¿”å›<code>CSSStyleDeclaration</code>æ–‡æ¡£<code>body</code>å…ƒç´ ä¸Šçš„å¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.style;</span><br><span class="line"><span class="built_in">window</span>.getComputedStyle(<span class="built_in">document</span>.body);</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯è¿™ä¸¤ä¸ªå¯¹è±¡è¿”å›çš„å¿«ç…§ï¼š</p>
<p><img src="https://css-tricks.com/wp-content/uploads/2018/11/cssstyledeclaration-api.png" alt="The CSSStyleDeclaration API in the DevTools console"></p>
<p><code>getComputedStyle()</code>å‡½æ•°è¿”å›çš„å€¼æ˜¯åªè¯»çš„ï¼Œä½¿ç”¨<code>element.style</code>ï¼Œè·å–å’Œè®¾ç½®å±æ€§æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å°±åƒå…ˆå‰æåˆ°çš„ï¼Œ<strong>è¿™äº›åªä¼šå½±å“documentçš„å†…è”æ ·å¼</strong>ã€‚</p>
<h3 id="setProperty-getPropertyValue-å’Œitem"><a href="#setProperty-getPropertyValue-å’Œitem" class="headerlink" title="#setProperty(), getPropertyValue(), å’Œitem()"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-5" target="_blank" rel="noopener">#</a>setProperty(), getPropertyValue(), å’Œitem()</h3><p>ä¸€æ—¦æ‚¨ä»¥ä¸Šè¿°æ–¹å¼ä¹‹ä¸€æš´éœ²äº†<code>CSSStyleDeclaration</code>å¯¹è±¡ï¼Œæ‚¨å°±å¯ä»¥è®¿é—®è®¸å¤šæœ‰ç”¨çš„æ–¹æ³•æ¥è¯»å–æˆ–æ“ä½œè¿™äº›å€¼ã€‚åŒæ ·ï¼Œ<code>getComputedStyle()è¿”å›çš„</code>å€¼æ˜¯åªè¯»çš„ï¼Œä½†æ˜¯å½“é€šè¿‡<code>style</code>å±æ€§ä½¿ç”¨æ—¶ï¼ŒæŸäº›æ–¹æ³•å¯ç”¨äºè·å–å’Œè®¾ç½®ã€‚</p>
<p>è¯·è€ƒè™‘ä»¥ä¸‹ä»£ç å’Œæ¼”ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"></span><br><span class="line">box.style.setProperty(<span class="string">'color'</span>, <span class="string">'orange'</span>);</span><br><span class="line">box.style.setProperty(<span class="string">'font-family'</span>, <span class="string">'Georgia, serif'</span>);</span><br><span class="line">op.innerHTML = box.style.getPropertyValue(<span class="string">'color'</span>);</span><br><span class="line">op2.innerHTML = <span class="string">`<span class="subst">$&#123;box.style.item(<span class="number">0</span>)&#125;</span>, <span class="subst">$&#123;box.style.item(<span class="number">1</span>)&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>
<iframe height="265" style="width: 100%;" scrolling="no" title="Using three different methods of the CSSStyleDeclaration API" src="//codepen.io/zhehuaxuan/embed/JxWzyy/?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/JxWzyy/" target="_blank" rel="noopener">Using three different methods of the CSSStyleDeclaration API</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†ä¸‰ç§ä¸åŒçš„<code>style</code>å¯¹è±¡æ–¹æ³•ï¼š </p>
<ul>
<li><code>setProperty()</code>æ–¹æ³•ã€‚è¿™éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼šå±æ€§ï¼ˆä»¥å¸¸è§„CSSè¡¨ç¤ºæ³•ï¼‰å’Œå±æ€§å€¼</li>
<li><code>getPropertyValue()</code>æ–¹æ³•ã€‚è¿™éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œä½ æƒ³è¦è·å¾—çš„å±æ€§ã€‚å’Œå‰é¢æåˆ°çš„<code>getComputedStyle()</code>æ–¹æ³•ä¸€æ ·ï¼Œè¿”å› <code>CSSStyleDeclaration</code> å¯¹è±¡ã€‚</li>
<li><code>item()</code>æ–¹æ³•ã€‚è¿™éœ€è¦ä½¿ç”¨ä¸€ä¸ªå‚æ•°ï¼Œè¿™éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæ‚¨è¦è®¿é—®çš„å±æ€§çš„ç´¢å¼•ã€‚è¿”å›å€¼æ˜¯è¯¥ç´¢å¼•å¤„çš„å±æ€§åç§°ã€‚</li>
</ul>
<p>æ³¨æ„ï¼Œåœ¨æˆ‘ä¸Šé¢çš„ç®€å•ç¤ºä¾‹ä¸­ï¼Œåªæœ‰ä¸¤ä¸ªæ ·å¼æ·»åŠ åˆ°å…ƒç´ çš„å†…è”CSSä¸­ã€‚è¿™æ„å‘³ç€å¦‚æœæˆ‘è¦è®¿é—®<code>item(2)</code>ï¼Œè¿”å›å€¼å°†æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚å¦‚æœæˆ‘<code>getPropertyValue()</code>ä»¥å‰è®¿é—®æœªåœ¨è¯¥å…ƒç´ çš„å†…è”æ ·å¼ä¸­è®¾ç½®çš„å±æ€§ï¼Œä¹Ÿä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœã€‚ </p>
<h3 id="ä½¿ç”¨removeProperty"><a href="#ä½¿ç”¨removeProperty" class="headerlink" title="# ä½¿ç”¨removeProperty()"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-6" target="_blank" rel="noopener">#</a> ä½¿ç”¨removeProperty()</h3><p>In addition to the three methods mentioned above, there are two others exposed on a <code>CSSStyleDeclaration</code> object. In the following code and demo, Iâ€™m using the <code>removeProperty()</code>method:</p>
<p>é™¤äº†ä¸Šé¢æåˆ°çš„ä¸‰ç§æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸¤ç§æ–¹æ³•æš´éœ²åœ¨ä¸€ä¸ª<code>CSSStyleDeclaration</code>ç‰©ä½“ä¸Šã€‚åœ¨ä¸‹é¢çš„ä»£ç å’Œç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨<code>removeProperty()</code>æ–¹æ³•ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">box.style.setProperty(<span class="string">'font-size'</span>, <span class="string">'1.5em'</span>);</span><br><span class="line">box.style.item(<span class="number">0</span>) <span class="comment">// "font-size"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.style.removeProperty(<span class="string">'font-size'</span>);</span><br><span class="line"><span class="built_in">document</span>.body.style.item(<span class="number">0</span>); <span class="comment">// ""</span></span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Using the removeProperty() method of the CSSStyleDeclaration API" src="//codepen.io/zhehuaxuan/embed/wNJOEV/?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/wNJOEV/" target="_blank" rel="noopener">Using the removeProperty() method of the CSSStyleDeclaration API</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>In this case, after I set <code>font-size</code> using <code>setProperty()</code>, I log the property name to ensure itâ€™s there. The demo then includes a button that, when clicked, will remove the property using <code>removeProperty()</code>.</p>
<p>åœ¨è¿™ç§ä¾‹å­ä¸­ï¼Œåœ¨æˆ‘ä½¿ç”¨<code>setProperty()</code>è®¾ç½®<code>font-size</code>ï¼Œæˆ‘è®°å½•å±æ€§åç§°ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªæŒ‰é’®ï¼Œå•å‡»è¯¥æŒ‰é’®ä½¿ç”¨<code>removeProperty()</code>åˆ é™¤è¯¥å±æ€§ã€‚ </p>
<h3 id="è·å–å’Œè®¾ç½®å±æ€§çš„ä¼˜å…ˆçº§"><a href="#è·å–å’Œè®¾ç½®å±æ€§çš„ä¼˜å…ˆçº§" class="headerlink" title="#è·å–å’Œè®¾ç½®å±æ€§çš„ä¼˜å…ˆçº§"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-7" target="_blank" rel="noopener">#</a>è·å–å’Œè®¾ç½®å±æ€§çš„ä¼˜å…ˆçº§</h3><p>æœ€åï¼Œè¿™æ˜¯æˆ‘åœ¨å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„ç‰¹æ€§ï¼šä½¿ç”¨<code>getPropertyPriority()</code>ï¼Œçœ‹ä¸‹é¢CodePenæ¼”ç¤ºçš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">box.style.setProperty(<span class="string">'font-family'</span>, <span class="string">'Georgia, serif'</span>, <span class="string">'important'</span>);</span><br><span class="line">box.style.setProperty(<span class="string">'font-size'</span>, <span class="string">'1.5em'</span>);</span><br><span class="line"></span><br><span class="line">box.style.getPropertyPriority(<span class="string">'font-family'</span>); <span class="comment">// important</span></span><br><span class="line">op2.innerHTML = box.style.getPropertyPriority(<span class="string">'font-size'</span>); <span class="comment">// ""</span></span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Using getPropertyPriority() to get a property&apos;s &amp;quot;importance&amp;quot;" src="//codepen.io/zhehuaxuan/embed/wNJOLv/?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/wNJOLv/" target="_blank" rel="noopener">Using getPropertyPriority() to get a property&apos;s &amp;quot;importance&amp;quot;</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨è¯¥ä»£ç çš„ç¬¬ä¸€è¡Œï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æˆ‘ä½¿ç”¨<code>setProperty()</code>æ–¹æ³•ï¼Œå°±åƒæˆ‘ä¹‹å‰ä¸€æ ·ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡ŒåŒ…å«äº†ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸²ï¼Œç”¨äºå®šä¹‰æ˜¯å¦å¸Œæœ›è¯¥å±æ€§é™„åŠ <code>!important</code>å…³é”®å­—ã€‚</p>
<p>åœ¨æˆ‘ä¸ºå±æ€§è®¾ç½®<code>!important</code>ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨<code>getPropertyPriority()</code>æ–¹æ³•æ£€æŸ¥è¯¥å±æ€§çš„ä¼˜å…ˆçº§ã€‚å¦‚æœæ‚¨è§‰å¾—è¯¥å±æ€§ä¸é‡è¦ï¼Œå¯ä»¥çœç•¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œä½¿ç”¨å…³é”®å­—<code>undefined</code>ï¼Œæˆ–å°†ç¬¬ä¸‰ä¸ªå‚æ•°åŒ…å«ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</p>
<p>æˆ‘åº”è¯¥åœ¨è¿™é‡Œå¼ºè°ƒï¼Œè¿™äº›æ–¹æ³•å¯ä»¥ä¸å·²ç»ç›´æ¥æ”¾åœ¨HTMLå…ƒç´ <code>style</code>å±æ€§ä¸Šçš„ä»»ä½•å†…è”æ ·å¼ä¸€èµ·ä½¿ç”¨ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœæˆ‘æœ‰å¦‚ä¸‹HTMLï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">style</span>=<span class="string">"border: solid 1px red !important;"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘å¯ä»¥ä½¿ç”¨æœ¬èŠ‚ä¸­è®¨è®ºçš„ä»»ä½•æ–¹æ³•æ¥è¯»å–æˆ–ä¿®æ”¹è¯¥æ ·å¼ã€‚è¿™é‡Œåº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œç”±äºæˆ‘ä½¿ç”¨äº†è¿™ç§å†…è”æ ·å¼çš„ç®€å†™å±æ€§å¹¶å°†å…¶è®¾ç½®ä¸º<code>!important</code>ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨<code>getPropertyPriority()</code>å°±å¯ä»¥æŠŠé•¿å±æ€§çš„<code>important</code>è¿”å›å‡ºæ¥ï¼Œè¯·å‚é˜…ä¸‹é¢çš„ä»£ç å’Œæ¼”ç¤ºï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// These all return "important"</span></span><br><span class="line">box.style.getPropertyPriority(<span class="string">'border'</span>));</span><br><span class="line">box.style.getPropertyPriority(<span class="string">'border-top-width'</span>));</span><br><span class="line">box.style.getPropertyPriority(<span class="string">'border-bottom-width'</span>));</span><br><span class="line">box.style.getPropertyPriority(<span class="string">'border-color'</span>));</span><br><span class="line">box.style.getPropertyPriority(<span class="string">'border-style'</span>));</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Using getPropertyPriority() to check the priority of longhand properties" src="//codepen.io/zhehuaxuan/embed/xMqeZz/?height=265&theme-id=dark&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/xMqeZz/" target="_blank" rel="noopener">Using getPropertyPriority() to check the priority of longhand properties</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå³ä½¿æˆ‘åªåœ¨<code>border</code>å±æ€§ä¸­æ˜¾å¼è®¾ç½®äº†<code>style</code>å±æ€§ï¼Œæ‰€æœ‰å…³è”<code>border</code>çš„longhandå±æ€§ä¹Ÿéƒ½è¿”å›<code>important</code>ã€‚ </p>
<h3 id="CSSStyleSheet-Interface"><a href="#CSSStyleSheet-Interface" class="headerlink" title="# CSSStyleSheet Interface"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-8" target="_blank" rel="noopener">#</a> CSSStyleSheet Interface</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘æ‰€è€ƒè™‘çš„æ–¹æ³•éƒ½æ¶‰åŠå†…è”æ ·å¼ï¼ˆé€šå¸¸ä¸é‚£ä¹ˆæœ‰ç”¨ï¼‰å’Œè®¡ç®—æ ·å¼ï¼ˆè¿™äº›æ–¹å¼å¾ˆæœ‰ç”¨ï¼Œä½†é€šå¸¸è¿‡äºå…·ä½“ï¼‰ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªæ›´æœ‰ç”¨çš„APIï¼Œå…è®¸æ‚¨è·å–å…·æœ‰å¯è¯»å†™æ€§çš„æ ·å¼è¡¨ï¼Œè€Œä¸ä»…ä»…æ˜¯å†…è”æ ·å¼ï¼Œè¿™å°±æ˜¯<code>CSSStyleSheet</code>ã€‚ä»æ–‡æ¡£æ ·å¼è¡¨è®¿é—®æ–‡æ¡£å±æ€§çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨<code>styleSheets</code>å±æ€§ã€‚è¿™å°±æ˜¯<code>CSSStyleSheetæ¥å£</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä½¿ç”¨è¯¥<code>length</code>å±æ€§æ¥æŸ¥çœ‹å½“å‰æ–‡æ¡£å…·æœ‰å¤šå°‘æ ·å¼è¡¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.styleSheets.length; <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘å¯ä»¥ä½¿ç”¨ä»é›¶å¼€å§‹çš„ç´¢å¼•æ¥å¼•ç”¨ä»»ä½•æ–‡æ¡£çš„æ ·å¼è¡¨ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬ç”¨consoleæ‰“å°stylesheet ï¼Œæˆ‘ä»¬å°†ä¼šçœ‹åˆ°ä¸‹é¢çš„è¿™äº›æ–¹æ³•å’Œå±æ€§ï¼š</p>
<p><img src="https://css-tricks.com/wp-content/uploads/2018/11/docstylesheet.png" alt="The CSSStyleSheet Interface in the DevTools Console"></p>
<p>è¿™é‡Œæœ€æœ‰ç”¨çš„å±æ€§æ˜¯<code>cssRules</code>ã€‚æ­¤å±æ€§æä¾›æ ·å¼è¡¨ä¸­åŒ…å«çš„æ‰€æœ‰CSSè§„åˆ™ï¼ˆåŒ…æ‹¬å£°æ˜å—ï¼Œè§„åˆ™ï¼Œåª’ä½“è§„åˆ™ç­‰ï¼‰ã€‚åœ¨ä¸‹é¢ï¼Œæˆ‘å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åˆ©ç”¨æ­¤APIæ¥æ“ä½œå’Œè¯»å–å¤–éƒ¨æ ·å¼è¡¨ä¸­çš„æ ·å¼ã€‚ </p>
<h3 id="ä½¿ç”¨Stylesheet-å¯¹è±¡"><a href="#ä½¿ç”¨Stylesheet-å¯¹è±¡" class="headerlink" title="#ä½¿ç”¨Stylesheet å¯¹è±¡"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-9" target="_blank" rel="noopener">#</a>ä½¿ç”¨Stylesheet å¯¹è±¡</h3><p>ä¸ºäº†ç®€å•èµ·è§ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å¤–éƒ¨æ ·å¼è¡¨ï¼Œå…¶ä¸­åªåŒ…å«å°‘é‡è§„åˆ™ã€‚è¿™é‡Œè¯·å…è®¸æˆ‘æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨CSSOMè®¿é—®æ ·å¼è¡¨çš„ä¸åŒéƒ¨åˆ†ï¼Œå’ŒDOMè„šæœ¬çš„æ–¹å¼ç±»ä¼¼ã€‚</p>
<p>è¿™æ˜¯æˆ‘ä½¿ç”¨ä¸‹é¢çš„æ ·å¼è¡¨ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Helvetica, Arial, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1024px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.component</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">border-left</span>: solid <span class="number">1px</span> <span class="number">#444</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.2</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.component</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: none;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: lightgreen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">keyframes</span> exampleAnimation &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  20% &#123;</span><br><span class="line">    <span class="attribute">color</span>: orange;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: firebrick;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å¯ä»¥åœ¨è¿™ä¸ªä¾‹å­ä¸­å°è¯•å¾ˆå¤šäº‹æƒ…ï¼Œé¦–å…ˆï¼Œæˆ‘å°†å¾ªç¯éå†æ ·å¼è¡¨ä¸­çš„æ‰€æœ‰æ ·å¼è§„åˆ™ï¼Œå¹¶è®°å½•æ¯ä¸ªæ ·å¼çš„é€‰æ‹©å™¨çš„å€¼ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myRules = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules,</span><br><span class="line">    p = <span class="built_in">document</span>.querySelector(<span class="string">'p'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">of</span> myRules) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i.type === <span class="number">1</span>) &#123;</span><br><span class="line">    p.innerHTML += <span class="string">`&lt;code&gt;<span class="subst">$&#123;i.selectorText&#125;</span>&lt;/code&gt;&lt;br&gt;`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="davLKB" src="//codepen.io/zhehuaxuan/embed/davLKB/?height=465&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/davLKB/" target="_blank" rel="noopener">davLKB</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­éœ€è¦æ³¨æ„çš„å‡ ä»¶äº‹æƒ…ã€‚é¦–å…ˆï¼Œæˆ‘ç¼“å­˜è®°å½•å¤–éƒ¨æ ·å¼è¡¨çš„<code>cssRules</code>å¯¹è±¡çš„å¼•ç”¨ã€‚ç„¶åæˆ‘éå†è¯¥å¯¹è±¡ä¸­çš„æ‰€æœ‰è§„åˆ™ï¼Œæ£€æŸ¥æ¯ä¸ªè§„åˆ™çš„ç±»å‹ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘æƒ³è¦ç±»å‹çš„è§„åˆ™<code>1</code>ï¼Œå®ƒä»£è¡¨<code>STYLE_RULE</code>å¸¸é‡ã€‚å…¶ä»–å¸¸é‡åŒ…æ‹¬<code>IMPORT_RULE</code>ï¼ˆ3ï¼‰ï¼Œ<code>MEDIA_RULE</code>ï¼ˆ4ï¼‰ï¼Œ<code>KEYFRAMES_RULE</code>ï¼ˆ7ï¼‰ç­‰ã€‚æ‚¨å¯ä»¥<a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSRule#Type_constants" target="_blank" rel="noopener">åœ¨æ­¤MDNæ–‡ç« ä¸­</a>æŸ¥çœ‹è¿™äº›å¸¸é‡çš„å®Œæ•´è¡¨ã€‚</p>
<p>å½“æˆ‘ç¡®è®¤è§„åˆ™æ˜¯æ ·å¼è§„åˆ™æ—¶ï¼Œæˆ‘æ‰“å°æ¯ä¸ªæ ·å¼è§„åˆ™çš„<code>selectorText</code>å±æ€§ã€‚å±•ç¤ºå¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">body</span><br><span class="line">main</span><br><span class="line">.component</span><br><span class="line">a:hover</span><br><span class="line">code</span><br></pre></td></tr></table></figure>
<p><code>selectorText</code>å±æ€§è¡¨ç¤ºé€‰æ‹©å™¨æ ·å¼è§„åˆ™çš„åç§°ã€‚è¿™æ˜¯ä¸€ä¸ªå¯å†™å±æ€§ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ç”¨<code>for</code>ä½¿ç”¨ä»¥ä¸‹ä»£ç æ›´æ”¹åŸå§‹å¾ªç¯å†…ç‰¹å®šè§„åˆ™çš„é€‰æ‹©å™¨ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i.selectorText === <span class="string">'a:hover'</span>) &#123;</span><br><span class="line">  i.selectorText = <span class="string">'a:hover, a:active'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the CSSStyleSheet API â€“ Changing the Selector Text" src="//codepen.io/zhehuaxuan/embed/yZMrmE/?height=265&theme-id=dark&default-tab=js,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/yZMrmE/" target="_blank" rel="noopener">Working with the CSSStyleSheet API â€“ Changing the Selector Text</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘æŸ¥è¯¢ä¸€ä¸ªé€‰æ‹©å™¨ï¼ˆé“¾æ¥ï¼‰ï¼ŒæŠŠ <code>:hover</code> å±æ€§æŸ¥è¯¢å‡ºæ¥ï¼Œåº”ç”¨åˆ° <code>:active</code> ä¸­ã€‚è€Œä¸”ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•ç”šè‡³æ˜¯æ­£åˆ™è¡¨è¾¾å¼æ¥æŸ¥æ‰¾æ‰€æœ‰å®ä¾‹çš„<code>:hover</code>ï¼Œç„¶åä»é‚£é‡Œåšä¸€äº›äº‹æƒ…ã€‚ä½†è¿™ä¸ªä¾‹å­å·²ç»è¶³ä»¥è¯æ˜å®ƒæ˜¯å·¥ä½œåŸç†äº†ã€‚ </p>
<h3 id="ä½¿ç”¨CSSOMè®¿é—®-mediaè§„åˆ™"><a href="#ä½¿ç”¨CSSOMè®¿é—®-mediaè§„åˆ™" class="headerlink" title="#ä½¿ç”¨CSSOMè®¿é—®@mediaè§„åˆ™"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-10" target="_blank" rel="noopener">#</a>ä½¿ç”¨CSSOMè®¿é—®@mediaè§„åˆ™</h3><p>æ‚¨ä¼šæ³¨æ„åˆ°æˆ‘çš„æ ·å¼è¡¨è¿˜åŒ…æ‹¬åª’ä½“æŸ¥è¯¢è§„åˆ™ï¼š@keyframes at-ruleã€‚å½“æˆ‘æœç´¢æ ·å¼è§„åˆ™ï¼ˆç±»å‹1ï¼‰æ—¶ï¼Œè¿™ä¸¤ä¸ªéƒ½è¢«è·³è¿‡äº†ã€‚æˆ‘ä»¬ç°åœ¨æ‰¾åˆ°æ‰€æœ‰<code>@media</code>è§„åˆ™ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myRules = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules,</span><br><span class="line">    p = <span class="built_in">document</span>.querySelector(<span class="string">'.output'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">of</span> myRules) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i.type === <span class="number">4</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">of</span> i.cssRules) &#123;</span><br><span class="line">      p.innerHTML += <span class="string">`&lt;code&gt;<span class="subst">$&#123;j.selectorText&#125;</span>&lt;/code&gt;&lt;br&gt;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŸºäºç»™å®šçš„æ ·å¼è¡¨ï¼Œä¸Šé¢å°†äº§ç”Ÿï¼š </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">body</span><br><span class="line">.component</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the CSSStyleSheet API â€“ Accessing @media Rules" src="//codepen.io/zhehuaxuan/embed/MLpdJz/?height=465&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/MLpdJz/" target="_blank" rel="noopener">Working with the CSSStyleSheet API â€“ Accessing @media Rules</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œåœ¨æˆ‘éå†æ‰€æœ‰è§„åˆ™ä»¥æŸ¥çœ‹æ˜¯å¦å­˜åœ¨<code>@media</code>è§„åˆ™ï¼ˆç±»å‹4ï¼‰ä¹‹åï¼Œæˆ‘éå†<code>cssRules</code>çš„æ¯ä¸ªåª’ä½“è§„åˆ™å¯¹è±¡ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ªï¼‰å¹¶è®°å½•åœ¨é‚£ä¸ªåª’ä½“è§„åˆ™é‡Œé¢çš„æ¯ä¸ªè§„åˆ™çš„é€‰æ‹©å™¨æ–‡æœ¬ã€‚</p>
<p>å› æ­¤ï¼Œ<code>@media</code>è§„åˆ™ä¸Šå…¬å¼€çš„æ¥å£ç±»ä¼¼äºæ ·å¼è¡¨ä¸Šå…¬å¼€çš„æ¥å£ã€‚<code>@media</code>ä½†æ˜¯ï¼Œè¯¥è§„åˆ™è¿˜åŒ…å«ä¸€ä¸ª<code>conditionText</code>å±æ€§ï¼Œå¦‚ä»¥ä¸‹ä»£ç æ®µå’Œæ¼”ç¤ºä¸­æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myRules = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules,</span><br><span class="line">    p = <span class="built_in">document</span>.querySelector(<span class="string">'.output'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">of</span> myRules) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i.type === <span class="number">4</span>) &#123;</span><br><span class="line">    p.innerHTML += <span class="string">`&lt;code&gt;<span class="subst">$&#123;i.conditionText&#125;</span>&lt;/code&gt;&lt;br&gt;`</span>;</span><br><span class="line">    <span class="comment">// (max-width: 800px) </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the CSSStyleSheet API â€“ Accessing @media Rules" src="//codepen.io/zhehuaxuan/embed/OdmOwd/?height=465&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/OdmOwd/" target="_blank" rel="noopener">Working with the CSSStyleSheet API â€“ Accessing @media Rules</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>æ­¤ä»£ç å¾ªç¯éå†æ‰€æœ‰åª’ä½“æŸ¥è¯¢è§„åˆ™ï¼Œå¹¶è®°å½•ç¡®å®šè¯¥è§„åˆ™ä½•æ—¶é€‚ç”¨çš„æ–‡æœ¬ï¼ˆå³æ¡ä»¶ï¼‰ã€‚è¿˜æœ‰ä¸€ä¸ª<code>mediaText</code>è¿”å›ç›¸åŒå€¼çš„å±æ€§ã€‚æ ¹æ®è§„èŒƒï¼Œæ‚¨å¯ä»¥è·å¾—æˆ–è®¾ç½®å…¶ä¸­ä»»ä½•ä¸€ä¸ªã€‚ </p>
<h3 id="ä½¿ç”¨CSSOMè®¿é—®-keyframesè§„åˆ™"><a href="#ä½¿ç”¨CSSOMè®¿é—®-keyframesè§„åˆ™" class="headerlink" title="#ä½¿ç”¨CSSOMè®¿é—®@keyframesè§„åˆ™"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-11" target="_blank" rel="noopener">#</a>ä½¿ç”¨CSSOMè®¿é—®@keyframesè§„åˆ™</h3><p>Now that Iâ€™ve demonstrated how to read information from a <code>@media</code> rule, letâ€™s consider how to access a <code>@keyframes</code> rule. Hereâ€™s some code to get started:</p>
<p>ç°åœ¨æˆ‘å·²ç»æ¼”ç¤ºäº†å¦‚ä½•è¯»å–<code>@media</code>è§„åˆ™ä¸­çš„ä¿¡æ¯ï¼Œç°åœ¨è®©æˆ‘ä»¬è€ƒè™‘å¦‚ä½•è®¿é—®<code>@keyframes</code>è§„åˆ™ã€‚æˆ‘ä»¬ä»ä¸‹é¢çš„ä»£ç å¼€å§‹ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myRules = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules,</span><br><span class="line">    p = <span class="built_in">document</span>.querySelector(<span class="string">'.output'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">of</span> myRules) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i.type === <span class="number">7</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">of</span> i.cssRules) &#123;</span><br><span class="line">     p.innerHTML += <span class="string">`&lt;code&gt;<span class="subst">$&#123;j.keyText&#125;</span>&lt;/code&gt;&lt;br&gt;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the CSSStyleSheet API â€“ Accessing @keyframes Rules" src="//codepen.io/zhehuaxuan/embed/mvmqzz/?height=465&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/mvmqzz/" target="_blank" rel="noopener">Working with the CSSStyleSheet API â€“ Accessing @keyframes Rules</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘æ­£åœ¨æŸ¥è¯¢ç±»å‹ä¸º7ï¼ˆi.e. <code>@keyframes</code>è§„åˆ™ï¼‰çš„è§„åˆ™ã€‚å½“æ‰¾åˆ°ä¸€ä¸ªè§„åˆ™æ—¶ï¼Œéå†æ‰€æœ‰è§„åˆ™<code>cssRules</code>å¹¶è®°å½•æ¯ä¸ªè§„åˆ™çš„<code>keyText</code>å±æ€§ã€‚è¿™ç§æƒ…å†µä¸‹çš„æ—¥å¿—å°†æ˜¯ï¼š </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;0%&quot;</span><br><span class="line">&quot;20%&quot;</span><br><span class="line">&quot;100%&quot;</span><br></pre></td></tr></table></figure>
<p>æ‚¨ä¼šæ³¨æ„åˆ°æˆ‘çš„åŸå§‹CSSä½¿ç”¨<code>from</code>å¹¶<code>to</code>ä½œä¸ºç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…³é”®å¸§ï¼Œä½†æ˜¯<code>keyText</code>å±æ€§è®¡ç®—è¿™äº›<code>0%</code>å’Œ<code>100%</code>ã€‚<code>keyText</code>ä¹Ÿå¯ä»¥è®¾ç½®å€¼ã€‚åœ¨æˆ‘çš„ç¤ºä¾‹æ ·å¼è¡¨ä¸­ï¼Œæˆ‘å¯ä»¥åƒè¿™æ ·ç¡¬ç¼–ç ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Read the current value (0%)</span></span><br><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules[<span class="number">6</span>].cssRules[<span class="number">0</span>].keyText;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Change the value to 10%</span></span><br><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules[<span class="number">6</span>].cssRules[<span class="number">0</span>].keyText = <span class="string">'10%'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Read the new value (10%)</span></span><br><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules[<span class="number">6</span>].cssRules[<span class="number">0</span>].keyText;</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the CSSStyleSheet API â€“ Setting @keyframes Rules" src="//codepen.io/zhehuaxuan/embed/jdmaRP/?height=465&theme-id=dark&default-tab=js,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/jdmaRP/" target="_blank" rel="noopener">Working with the CSSStyleSheet API â€“ Setting @keyframes Rules</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€æ›´æ”¹Webåº”ç”¨ç¨‹åºæµä¸­çš„åŠ¨ç”»å…³é”®å¸§ï¼Œä¹Ÿå¯ä»¥å“åº”ç”¨æˆ·æ“ä½œã€‚</p>
<p>è®¿é—®<code>@keyframes</code>è§„åˆ™æ—¶å¯ç”¨çš„å¦ä¸€ä¸ªå±æ€§æ˜¯<code>name</code>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myRules = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules,</span><br><span class="line">    p = <span class="built_in">document</span>.querySelector(<span class="string">'.output'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">of</span> myRules) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i.type === <span class="number">7</span>) &#123;</span><br><span class="line">    p.innerHTML += <span class="string">`&lt;code&gt;<span class="subst">$&#123;i.name&#125;</span>&lt;/code&gt;&lt;br&gt;`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the CSSStyleSheet API â€“ Getting the name of a @keyframes rule" src="//codepen.io/zhehuaxuan/embed/JxNOQM/?height=465&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/JxNOQM/" target="_blank" rel="noopener">Working with the CSSStyleSheet API â€“ Getting the name of a @keyframes rule</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>å›æƒ³ä¸€ä¸‹ï¼Œåœ¨CSSä¸­ï¼Œ<code>@keyframes</code>è§„åˆ™å¦‚ä¸‹æ‰€ç¤ºï¼š </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> exampleAnimation &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  20% &#123;</span><br><span class="line">    <span class="attribute">color</span>: orange;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å› æ­¤ï¼Œ<code>name</code>å±æ€§å…è®¸æˆ‘è¯»å–ä»¥<code>@keyframes</code>å’Œè‡ªå®šä¹‰åç§°è¯¥è§„åˆ™ã€‚<code>animation-name</code>ç‰¹å®šå…ƒç´ ä¸Šå¯ç”¨åŠ¨ç”»æ—¶åœ¨å±æ€§ä¸­ä½¿ç”¨çš„åç§°ç›¸åŒã€‚</p>
<p>æˆ‘åœ¨è¿™é‡Œè¦æåˆ°çš„æœ€åä¸€ä»¶äº‹æ˜¯èƒ½å¤Ÿè·å–å•ä¸ªå…³é”®å¸§å†…çš„ç‰¹å®šæ ·å¼ã€‚è¿™æ˜¯ä¸€äº›å¸¦æœ‰æ¼”ç¤ºçš„ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myRules = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules,</span><br><span class="line">    p = <span class="built_in">document</span>.querySelector(<span class="string">'.output'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">of</span> myRules) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i.type === <span class="number">7</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">of</span> i.cssRules) &#123;</span><br><span class="line">      p.innerHTML += <span class="string">`&lt;code&gt;<span class="subst">$&#123;j.style.color&#125;</span>&lt;/code&gt;&lt;br&gt;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the CSSStyleSheet API â€“ Accessing Property Values inside @keyframes Rules" src="//codepen.io/zhehuaxuan/embed/WPjdrQ/?height=465&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/WPjdrQ/" target="_blank" rel="noopener">Working with the CSSStyleSheet API â€“ Accessing Property Values inside @keyframes Rules</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåœ¨æˆ‘æ‰¾åˆ°<code>@keyframes</code>è§„åˆ™ä¹‹åï¼Œæˆ‘éå†å…³é”®å¸§ä¸­çš„æ¯ä¸ªè§„åˆ™ï¼ˆä¾‹å¦‚â€œfromâ€è§„åˆ™ï¼Œâ€œ20ï¼…â€è§„åˆ™ç­‰ï¼‰ã€‚ç„¶åï¼Œåœ¨æ¯ä¸ªè§„åˆ™ä¸­ï¼Œæˆ‘è®¿é—®ä¸€ä¸ªå•ç‹¬çš„<code>style</code>å±æ€§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºæˆ‘çŸ¥é“<code>color</code>æ˜¯ä¸ºæ¯ä¸ªå®šä¹‰çš„å”¯ä¸€å±æ€§ï¼Œæˆ‘åªæ˜¯æ³¨é”€é¢œè‰²å€¼ã€‚</p>
<p>è¿™ä¸ªä¾‹å­çš„ä¸»è¦å†…å®¹æ˜¯ä½¿ç”¨<code>style</code>å±æ€§æˆ–å¯¹è±¡ã€‚ä¹‹å‰æˆ‘å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨æ­¤å±æ€§æ¥è®¿é—®å†…è”æ ·å¼ã€‚ä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä½¿ç”¨å®ƒæ¥è®¿é—®å•ä¸ªå…³é”®å¸§å†…çš„å„ä¸ªå±æ€§ã€‚</p>
<p>ä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™æ˜¯å¦‚ä½•å¼€è¾Ÿä¸€äº›å¯èƒ½æ€§çš„ã€‚è¿™å…è®¸æ‚¨åŠ¨æ€ä¿®æ”¹å•ä¸ªå…³é”®å¸§çš„å±æ€§ï¼Œè¿™å¯èƒ½æ˜¯ç”±äºæŸäº›ç”¨æˆ·æ“ä½œæˆ–åº”ç”¨ç¨‹åºæˆ–å¯èƒ½æ˜¯åŸºäºWebçš„æ¸¸æˆä¸­å‘ç”Ÿçš„å…¶ä»–äº‹ä»¶è€Œå‘ç”Ÿçš„ã€‚</p>
<h3 id="æ·»åŠ å’Œåˆ é™¤CSSå£°æ˜"><a href="#æ·»åŠ å’Œåˆ é™¤CSSå£°æ˜" class="headerlink" title="#æ·»åŠ å’Œåˆ é™¤CSSå£°æ˜"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-12" target="_blank" rel="noopener">#</a>æ·»åŠ å’Œåˆ é™¤CSSå£°æ˜</h3><p><code>CSSStyleSheet</code>å¯ä»¥è®¿é—®ä¸¤ç§æ–¹æ³•ï¼Œå…è®¸æ‚¨ä»æ ·å¼è¡¨ä¸­æ·»åŠ æˆ–åˆ é™¤æ•´ä¸ªè§„åˆ™ï¼š<code>insertRule()</code>å’Œ<code>deleteRule()</code>ã€‚è®©æˆ‘ä»¬çœ‹çœ‹åœ¨ç¤ºä¾‹ä¸­ï¼Œä»–ä»¬ä¸¤ä¸ªå¦‚ä½•æ“ä½œæ ·å¼è¡¨ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myStylesheet = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">console</span>.log(myStylesheet.cssRules.length); <span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].insertRule(<span class="string">'article &#123; line-height: 1.5; font-size: 1.5em; &#125;'</span>, myStylesheet.cssRules.length);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules.length); <span class="comment">// 9</span></span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="qgmpay" src="//codepen.io/zhehuaxuan/embed/qgmpay/?height=465&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/qgmpay/" target="_blank" rel="noopener">qgmpay</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘æ­£åœ¨è®°å½•<code>cssRules</code>å±æ€§çš„é•¿åº¦ï¼ˆæ˜¾ç¤ºæ ·å¼è¡¨æœ€åˆæœ‰8ä¸ªè§„åˆ™ï¼‰ï¼Œç„¶åæˆ‘ä½¿ç”¨ä»¥ä¸‹<code>insertRule()</code>æ–¹æ³•å°†ä»¥ä¸‹CSSæ·»åŠ ä¸ºå•ç‹¬çš„è§„åˆ™ï¼š </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">article</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘<code>cssRules</code>å†æ¬¡è®°å½•å±æ€§çš„é•¿åº¦ä»¥ç¡®è®¤æ·»åŠ äº†è§„åˆ™ã€‚</p>
<p>è¯¥<code>insertRule()</code>æ–¹æ³•å°†å­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆè¿™æ˜¯å¿…éœ€çš„ï¼‰ï¼ŒåŒ…æ‹¬è¦æ’å…¥çš„å®Œæ•´æ ·å¼è§„åˆ™ï¼ˆåŒ…æ‹¬é€‰æ‹©å™¨ï¼ŒèŠ±æ‹¬å·ç­‰ï¼‰ã€‚å¦‚æœæ‚¨æ­£åœ¨æ’å…¥ä¸€ä¸ªè§„åˆ™ï¼Œé‚£ä¹ˆå®Œæ•´çš„è§„åˆ™ï¼ŒåŒ…æ‹¬åµŒå¥—åœ¨atè§„åˆ™ä¸­çš„å„ä¸ªè§„åˆ™å¯ä»¥åŒ…å«åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ã€‚è¿™æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‚¨å¸Œæœ›æ’å…¥è§„åˆ™çš„ä½ç½®æˆ–ç´¢å¼•ã€‚å¦‚æœæœªåŒ…æ‹¬ï¼Œåˆ™é»˜è®¤ä¸º<code>0</code>ï¼ˆæ„å‘³ç€è§„åˆ™å°†æ’å…¥è§„åˆ™é›†åˆçš„å¼€å¤´ï¼‰ã€‚å¦‚æœç´¢å¼•æ°å¥½å¤§äºè§„åˆ™å¯¹è±¡çš„é•¿åº¦ï¼Œåˆ™ä¼šå¼•å‘é”™è¯¯ã€‚</p>
<p>è¯¥<code>deleteRule()</code>æ–¹æ³•ä½¿ç”¨èµ·æ¥æ›´ç®€å•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myStylesheet = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">console</span>.log(myStylesheet.cssRules.length); <span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line">myStylesheet.deleteRule(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myStylesheet.cssRules.length); <span class="comment">// 7</span></span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the CSSStyleSheet API â€“ Deleting Rules" src="//codepen.io/zhehuaxuan/embed/WPjdWj/?height=465&theme-id=dark&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true"><br>  See the Pen <a href="https://codepen.io/zhehuaxuan/pen/WPjdWj/" target="_blank" rel="noopener">Working with the CSSStyleSheet API â€“ Deleting Rules</a> by å®£æµ™å<br>  (<a href="https://codepen.io/zhehuaxuan" target="_blank" rel="noopener">@zhehuaxuan</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°è¡¨ç¤ºæˆ‘è¦åˆ é™¤çš„è§„åˆ™çš„ç´¢å¼•ã€‚</p>
<p>ä½¿ç”¨ä»»ä¸€æ–¹æ³•ï¼Œç”±äºåŸºäºé›¶çš„ç´¢å¼•ï¼Œä½œä¸ºå‚æ•°ä¼ å…¥çš„é€‰å®šç´¢å¼•å¿…é¡»å°äº<code>cssRules</code>å¯¹è±¡çš„é•¿åº¦ï¼Œå¦åˆ™å°†å¼•å‘é”™è¯¯</p>
<h3 id="é‡æ–°è®¿é—®-CSSStyleDeclaration-API"><a href="#é‡æ–°è®¿é—®-CSSStyleDeclaration-API" class="headerlink" title="#é‡æ–°è®¿é—® CSSStyleDeclaration API"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-13" target="_blank" rel="noopener">#</a>é‡æ–°è®¿é—® CSSStyleDeclaration API</h3><p>ä¹‹å‰æˆ‘è§£é‡Šäº†å¦‚ä½•è®¿é—®å£°æ˜ä¸ºå†…è”æ ·å¼çš„å•ä¸ªå±æ€§å’Œå€¼ã€‚è¿™æ˜¯é€šè¿‡<code>element.style</code>ï¼Œæš´éœ²<code>CSSStyleDeclaration</code>æ¥å£å®Œæˆçš„ã€‚</p>
<p><code>CSSStyleDeclaration</code>APIï¼Œä½†æ˜¯ï¼Œä½œä¸º<code>CSSStyleSheet</code>APIçš„å­é›†æš´éœ² åœ¨ä¸€ä¸ªå•ç‹¬çš„æ ·å¼è§„åˆ™ã€‚å½“æˆ‘å‘æ‚¨å±•ç¤ºå¦‚ä½•è®¿é—®<code>@keyframes</code>è§„åˆ™å†…çš„å±æ€§æ—¶ï¼Œæˆ‘å·²ç»æåˆ°äº†è¿™ä¸€ç‚¹ã€‚è¦äº†è§£å…¶å·¥ä½œåŸç†ï¼Œè¯·æ¯”è¾ƒä»¥ä¸‹ä¸¤ä¸ªä»£ç æ®µï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"color: lightblue; width: 100px; font-size: 1.3em !important;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: lightblue;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.3em</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ä¸ªä¾‹å­æ˜¯è·å–å†…è”æ ·å¼çš„é›†åˆå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'div'</span>).style</span><br></pre></td></tr></table></figure>
<p><code>CSSStyleDeclaration</code>APIï¼Œå…è®¸æˆ‘è·å–<code>element.style.color</code>ï¼Œ<code>element.style.width</code>ç­‰å±æ€§å¯¹è±¡ã€‚</p>
<p>ä½†æˆ‘å¯ä»¥åœ¨å¤–éƒ¨æ ·å¼è¡¨ä¸­çš„å•ä¸ªæ ·å¼è§„åˆ™ä¸Šå…¬å¼€å®Œå…¨ç›¸åŒçš„APIã€‚è¿™æ„å‘³ç€æˆ‘å°†æˆ‘å¯¹<code>style</code>å±æ€§çš„ä½¿ç”¨ä¸<code>CSSStyleSheet</code>ç•Œé¢ç»“åˆèµ·æ¥ã€‚</p>
<p>å› æ­¤ï¼Œä¸Šé¢ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­çš„CSSä½¿ç”¨ä¸å†…è”ç‰ˆæœ¬å®Œå…¨ç›¸åŒçš„æ ·å¼ï¼Œå¯ä»¥åƒè¿™æ ·è®¿é—®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules[<span class="number">0</span>].style</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæ‰“å¼€ä¸€ä¸ªå¤–é“¾æ ·å¼è¡¨çš„ä¸€ä¸ªæ ·å¼è§„åˆ™çš„<code>CSSStyleDeclaration</code>å¯¹è±¡ï¼Œå¦‚æœæœ‰å¯¹ä¸ªæ ·å¼è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨<code>cssRules[1]</code>, <code>cssRules[2]</code>, <code>cssRules[3]</code>ç­‰æ–¹å¼æ¥è·å–ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨å¤–éƒ¨æ ·å¼è¡¨ä¸­ï¼Œåœ¨ç±»å‹çš„å•ä¸ªæ ·å¼è§„åˆ™å†…1ï¼Œæˆ‘å¯ä»¥è®¿é—®å‰é¢æåˆ°çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ã€‚è¿™åŒ…æ‹¬s<code>etProperty()ï¼ŒgetPropertyValue()ï¼Œitem()ï¼ŒremoveProperty()</code>å’Œ<code>getPropertyPriority()</code>ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿™äº›ç›¸åŒçš„åŠŸèƒ½å¯ç”¨äº@keyframesæˆ–@mediaè§„åˆ™å†…çš„å•ä¸ªæ ·å¼è§„åˆ™ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªä»£ç ç‰‡æ®µå’Œæ¼”ç¤ºï¼Œæ¼”ç¤ºäº†å¦‚ä½•åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹æ ·å¼è¡¨ä¸­çš„å•ä¸ªæ ·å¼è§„åˆ™ä¸Šä½¿ç”¨è¿™äº›æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Grab the style rules for the body and main elements</span></span><br><span class="line"><span class="keyword">let</span> myBodyRule = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules[<span class="number">1</span>].style,</span><br><span class="line">    myMainRule = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].cssRules[<span class="number">2</span>].style;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set the bg color on the body</span></span><br><span class="line">myBodyRule.setProperty(<span class="string">'background-color'</span>, <span class="string">'peachpuff'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the font size of the body</span></span><br><span class="line">myBodyRule.getPropertyValue(<span class="string">'font-size'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the 5th item in the body's style rule</span></span><br><span class="line">myBodyRule.item(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Log the current length of the body style rule (8)</span></span><br><span class="line">myBodyRule.length;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Remove the line height</span></span><br><span class="line">myBodyRule.removeProperty(<span class="string">'line-height'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// log the length again (7)</span></span><br><span class="line">myBodyRule.length;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Check priority of font-family (empty string)</span></span><br><span class="line">myBodyRule.getPropertyPriority(<span class="string">'font-family'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Check priority of margin in the "main" style rule (!important)</span></span><br><span class="line">myMainRule.getPropertyPriority(<span class="string">'margin'</span>);</span><br></pre></td></tr></table></figure>
<iframe height="465" style="width: 100%;" scrolling="no" title="Working with the style object of an individual style rule in an external Stylesheet" src="//codepen.io/zhehuaxuan/embed/vbmdGL/?height=465&theme-id=dark&default-tab=js,result" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>

<h3 id="CSSç±»å‹å¯¹è±¡æ¨¡å‹â€¦æœªæ¥ï¼Ÿ"><a href="#CSSç±»å‹å¯¹è±¡æ¨¡å‹â€¦æœªæ¥ï¼Ÿ" class="headerlink" title="#CSSç±»å‹å¯¹è±¡æ¨¡å‹â€¦æœªæ¥ï¼Ÿ"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-14" target="_blank" rel="noopener">#</a>CSSç±»å‹å¯¹è±¡æ¨¡å‹â€¦æœªæ¥ï¼Ÿ</h3><p>After everything Iâ€™ve considered in this article, it would seem odd that Iâ€™d have to break the news that itâ€™s possible that one day the CSSOM as we know it will be mostly obsolete.</p>
<p>åœ¨ä¸Šé¢æè¿‡çš„æ‰€æœ‰å†…å®¹ä¹‹åï¼Œ</p>
<p>æˆ‘ä¸å¾—ä¸æ‰“ç ´è¿™æ ·çš„æ¶ˆæ¯ï¼Œå³æœ‰ä¸€å¤©æˆ‘ä»¬æ‰€çŸ¥é“çš„CSSOMå¾ˆå¯èƒ½å·²ç»è¿‡æ—¶äº†ã€‚</p>
<p>Thatâ€™s because of something called the <a href="https://drafts.css-houdini.org/css-typed-om/" target="_blank" rel="noopener">CSS Typed OM</a> which is part of <a href="https://drafts.css-houdini.org/" target="_blank" rel="noopener">the Houdini Project</a>. Although some people have noted that the new Typed OM is more verbose compared to the current CSSOM, the benefits, as outlined <a href="https://developers.google.com/web/updates/2018/03/cssom" target="_blank" rel="noopener">in this article by Eric Bidelman</a>, include:</p>
<p>é‚£æ˜¯å› ä¸ºç§°ä¸º<a href="https://drafts.css-houdini.org/css-typed-om/" target="_blank" rel="noopener">CSS Typed OM</a>çš„ä¸œè¥¿ï¼Œå®ƒæ˜¯<a href="https://drafts.css-houdini.org/" target="_blank" rel="noopener">Houdinié¡¹ç›®çš„</a>ä¸€éƒ¨åˆ†ã€‚è™½ç„¶æœ‰äº›äººå·²ç»æ³¨æ„åˆ°æ–°çš„Typed OMä¸ç›®å‰çš„CSSOMç›¸æ¯”æ›´åŠ å†—é•¿ï¼Œä½†<a href="https://developers.google.com/web/updates/2018/03/cssom" target="_blank" rel="noopener">Eric Bidelmanåœ¨æœ¬æ–‡ä¸­</a>æ¦‚è¿°çš„å¥½å¤„åŒ…æ‹¬ï¼š </p>
<ul>
<li>Fewer bugs</li>
<li>Arithmetic operations and unit conversion</li>
<li>Better performance</li>
<li>Error handling</li>
<li>CSS property names are always strings</li>
</ul>
<p>For full details on those features and a glimpse into the syntax, be sure to check out <a href="https://developers.google.com/web/updates/2018/03/cssom" target="_blank" rel="noopener">the full article</a>.</p>
<p>As of this writing, CSS Typed OM is supported only in Chrome. You can see the progress of browser support <a href="https://www.chromestatus.com/feature/5682491075592192" target="_blank" rel="noopener">in this document</a>.</p>
<p>åœ¨æˆ‘åœ¨æœ¬æ–‡ä¸­è€ƒè™‘è¿‡çš„æ‰€æœ‰å†…å®¹ä¹‹åï¼Œæˆ‘ä¸å¾—ä¸æ‰“ç ´è¿™æ ·çš„æ¶ˆæ¯ï¼Œå³æœ‰ä¸€å¤©æˆ‘ä»¬æ‰€çŸ¥é“çš„CSSOMå¾ˆå¯èƒ½å·²ç»è¿‡æ—¶äº†ã€‚</p>
<p>é‚£æ˜¯å› ä¸ºç§°ä¸º<a href="https://drafts.css-houdini.org/css-typed-om/" target="_blank" rel="noopener">CSS Typed OM</a>çš„ä¸œè¥¿ï¼Œå®ƒæ˜¯<a href="https://drafts.css-houdini.org/" target="_blank" rel="noopener">Houdinié¡¹ç›®çš„</a>ä¸€éƒ¨åˆ†ã€‚è™½ç„¶æœ‰äº›äººå·²ç»æ³¨æ„åˆ°æ–°çš„Typed OMä¸ç›®å‰çš„CSSOMç›¸æ¯”æ›´åŠ å†—é•¿ï¼Œä½†<a href="https://developers.google.com/web/updates/2018/03/cssom" target="_blank" rel="noopener">Eric Bidelmanåœ¨æœ¬æ–‡ä¸­</a>æ¦‚è¿°çš„å¥½å¤„åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ›´å°‘çš„é”™è¯¯</li>
<li>ç®—æœ¯è¿ç®—å’Œå•ä½è½¬æ¢</li>
<li>æ›´å¥½çš„æ€§èƒ½</li>
<li>é”™è¯¯å¤„ç†</li>
<li>CSSå±æ€§åç§°å§‹ç»ˆæ˜¯å­—ç¬¦ä¸²</li>
</ul>
<p>æœ‰å…³è¿™äº›åŠŸèƒ½çš„å®Œæ•´è¯¦ç»†ä¿¡æ¯å’Œè¯­æ³•çš„ä¸€ç¥ï¼Œè¯·åŠ¡å¿…æŸ¥çœ‹<a href="https://developers.google.com/web/updates/2018/03/cssom" target="_blank" rel="noopener">å®Œæ•´çš„æ–‡ç« </a>ã€‚</p>
<p>åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ŒCSS Typed OMä»…åœ¨Chromeä¸­å—æ”¯æŒã€‚æ‚¨å¯ä»¥<a href="https://www.chromestatus.com/feature/5682491075592192" target="_blank" rel="noopener">åœ¨æœ¬æ–‡æ¡£ä¸­</a>æŸ¥çœ‹æµè§ˆå™¨æ”¯æŒçš„è¿›åº¦ã€‚</p>
<h3 id="æœ€åå°ç»“"><a href="#æœ€åå°ç»“" class="headerlink" title="#æœ€åå°ç»“"></a><a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/#article-header-id-15" target="_blank" rel="noopener">#</a>æœ€åå°ç»“</h3><p>é€šè¿‡JavaScriptæ“ä½œæ ·å¼è¡¨è‚¯å®šä¸æ˜¯ä½ åœ¨æ¯ä¸ªé¡¹ç›®ä¸­éƒ½è¦åšçš„äº‹æƒ…ã€‚ä½¿ç”¨æˆ‘åœ¨è¿™é‡Œä»‹ç»çš„æ–¹æ³•å’Œå±æ€§å®ç°çš„ä¸€äº›å¤æ‚äº¤äº’æœ‰ä¸€äº›éå¸¸å…·ä½“çš„ç”¨ä¾‹ã€‚</p>
<p>å¦‚æœæ‚¨å·²ç»æ„å»ºäº†æŸç§ä½¿ç”¨è¿™äº›APIçš„å·¥å…·ï¼Œ<a href="https://webtoolsweekly.com/?view=suggest" target="_blank" rel="noopener">æˆ‘å¾ˆä¹æ„å¬åˆ°å®ƒ</a>ã€‚æˆ‘çš„ç ”ç©¶åªæ˜¯è§¦åŠäº†å¯èƒ½çš„è¡¨é¢ï¼Œä½†æˆ‘å¾ˆæƒ³çŸ¥é“åœ¨ç°å®ä¸–ç•Œçš„ä¾‹å­ä¸­å¦‚ä½•ä½¿ç”¨å®ƒã€‚</p>
<p>æˆ‘å·²å°†æœ¬æ–‡ä¸­çš„æ‰€æœ‰æ¼”ç¤ºæ–‡ç¨¿<a href="https://codepen.io/collection/DEmrVv/" target="_blank" rel="noopener">æ”¾å…¥CodePené›†åˆä¸­</a>ï¼Œå› æ­¤æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½éšæ„ä½¿ç”¨å®ƒä»¬ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2018/12/26/js/gc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/26/js/gc/" itemprop="url">JSçš„GCæ•´ç†</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-12-26T16:43:23+08:00">
                2018-12-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JAVASCRIPT/" itemprop="url" rel="index">
                    <span itemprop="name">JAVASCRIPT</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å†…å­˜æ³„éœ²"><a href="#å†…å­˜æ³„éœ²" class="headerlink" title="å†…å­˜æ³„éœ²"></a>å†…å­˜æ³„éœ²</h3><h4 id="ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Ÿ</h4><p>å†…å­˜æ³„éœ²å°±æ˜¯åº”ç”¨ç¨‹åºä¸å†éœ€è¦å ç”¨å†…å­˜çš„æ—¶å€™ï¼Œç”±äºæŸäº›åŸå› ï¼Œå†…å­˜æ²¡æœ‰è¢«æ“ä½œç³»ç»Ÿæˆ–å¯ç”¨å†…å­˜æ± å›æ”¶ã€‚è¿™å¥è¯å¯¹äºæ‰€æœ‰éœ€è¦GCçš„è¯­è¨€éƒ½é€‚ç”¨ï¼Œå½“ç„¶åŒ…æ‹¬JSã€‚</p>
<p>JSçš„å†…å­˜å›æ”¶æ–¹æ³•ä¸»è¦å°±æ˜¯â€œæ ‡è®°æ¸…é™¤â€å’Œâ€œå¼•ç”¨è®¡æ•°â€ã€‚</p>
<h4 id="å¦‚ä½•åˆ¤æ–­å†…å­˜æ³„éœ²ï¼Ÿ"><a href="#å¦‚ä½•åˆ¤æ–­å†…å­˜æ³„éœ²ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ¤æ–­å†…å­˜æ³„éœ²ï¼Ÿ"></a>å¦‚ä½•åˆ¤æ–­å†…å­˜æ³„éœ²ï¼Ÿ</h4><p><a href="http://www.ruanyifeng.com/blog/2017/04/memory-leak.html" target="_blank" rel="noopener">ç»éªŒæ³•</a>åˆ™æ˜¯ï¼Œå¦‚æœè¿ç»­äº”æ¬¡åƒåœ¾å›æ”¶ä¹‹åï¼Œå†…å­˜å ç”¨ä¸€æ¬¡æ¯”ä¸€æ¬¡å¤§ï¼Œå°±æœ‰å†…å­˜æ³„æ¼ã€‚è¿™å°±è¦æ±‚å®æ—¶æŸ¥çœ‹å†…å­˜å ç”¨ã€‚</p>
<p>æŸ¥çœ‹å†…å­˜å¯ä»¥ä½¿ç”¨chromeæµè§ˆå™¨ä¸­çš„å¼€å‘è€…å·¥å…·ï¼ŒPerformanceé¡µç­¾å¯ä»¥è¿›è¡Œå†…å­˜å¿«ç…§çš„ç›‘æ§ã€‚</p>
<h4 id="å†…å­˜æ³„éœ²çš„ä¸€èˆ¬åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å†…å­˜æ³„éœ²çš„ä¸€èˆ¬åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å†…å­˜æ³„éœ²çš„ä¸€èˆ¬åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ"></a>å†…å­˜æ³„éœ²çš„ä¸€èˆ¬åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>1 æ„å¤–çš„å…¨å±€å˜é‡</p>
<p>2 è¢«é—å¿˜çš„è®¡æ—¶å™¨æˆ–<strong>å›è°ƒå‡½æ•°</strong></p>
<p>3 è„±ç¦» DOM çš„å¼•ç”¨</p>
<p>4 <strong>é—­åŒ…</strong></p>
<h4 id="WeakSet-å’Œ-WeakMap"><a href="#WeakSet-å’Œ-WeakMap" class="headerlink" title="WeakSet å’Œ WeakMap"></a>WeakSet å’Œ WeakMap</h4><p>WeakSet å’Œ WeakMapå°±æ˜¯å¼±å¼•ç”¨ï¼Œåœ¨javaä¸­ä¹Ÿå­˜åœ¨è¿™ä¸ªæ¦‚å¿µï¼Œå°±æ˜¯è¯¥æ•°æ®ç»“æ„ä¸ä¼šå½±å“å¼•ç”¨å˜é‡çš„è®¡æ•°æ¬¡æ•°ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2018/09/10/algo/ç®—æ³•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/10/algo/ç®—æ³•/" itemprop="url">ç®—æ³•çš„ç›®æ ‡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-10T21:29:13+08:00">
                2018-09-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">ç®—æ³•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>1.å¯¹é‡åˆ°çš„ç‰¹æ®Šé—®é¢˜è¦èƒ½å¤Ÿè‡ªå·±è®¾è®¡å‡ºç®—æ³•å®ç°ï¼›</p>
<p>2.å¯¹äºåŸç†å…¬å¼€çš„çŸ¥åç®—æ³•ï¼Œè¦èƒ½å°†ç®—æ³•åŸç†ç¿»è¯‘æˆå…·ä½“çš„ç®—æ³•ä»£ç ï¼›</p>
<p>3.å¯¹å·²æœ‰å…·ä½“å®ç°çš„ç®—æ³•ï¼Œè¦èƒ½å¤Ÿè®¾è®¡å‡ºåˆé€‚çš„æ•°å­¦æ¨¡å‹ï¼Œå°†ç®—æ³•åº”ç”¨åˆ°å®é™…é—®é¢˜ä¸­ï¼›</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2018/07/10/js/difficulty/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/10/js/difficulty/" itemprop="url">JavascriptåŸç”Ÿé‡Šç–‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-10T16:43:23+08:00">
                2018-07-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JAVASCRIPT/" itemprop="url" rel="index">
                    <span itemprop="name">JAVASCRIPT</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-ESåŸºç¡€çŸ¥è¯†"><a href="#1-ESåŸºç¡€çŸ¥è¯†" class="headerlink" title="1.ESåŸºç¡€çŸ¥è¯†"></a>1.ESåŸºç¡€çŸ¥è¯†</h4><ol>
<li><p>JSçš„åŸºæœ¬æ•°æ®ç±»å‹</p>
<ul>
<li><p>Boolean</p>
</li>
<li><p>String</p>
</li>
<li><p>Number</p>
</li>
<li><p>Null</p>
</li>
<li><p>Undefined</p>
</li>
<li><p>Symbol(ES6)</p>
<blockquote>
<p>æ³¨ï¼šåŸå§‹ç±»å‹ä¸åŒ…å«Object</p>
</blockquote>
<p><strong>typeof</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> xxx;</span><br><span class="line"><span class="comment">//è¿”å›ï¼šundefined boolean number string object functionã€symbol åªæ¯”åŸºæœ¬ç±»å‹å¤šäº†objectå’Œfunction</span></span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹ï¼š</span></span><br><span class="line"><span class="comment">//1.typeof nullç»“æœæ˜¯object  </span></span><br><span class="line"><span class="comment">//2.typeof [1, 2]ç»“æœæ˜¯object typeof æ²¡æœ‰arrayç±»å‹  å¼•ç”¨ç±»å‹åªæœ‰functionå’Œobject</span></span><br><span class="line"><span class="comment">//3.typeof Symbol() ç”¨typeofè·å–symbolç±»å‹çš„å€¼å¾—åˆ°çš„æ˜¯symbo</span></span><br></pre></td></tr></table></figure>
<p><strong>instanceof</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxx <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">//true or false</span></span><br></pre></td></tr></table></figure>
<p>instanceofå’Œtypeofçš„ç»†èŠ‚ï¼Œå¯ä»¥ç§»æ­¥<a href="http://localhost:4000/2018/06/06/js/js_pro/" target="_blank" rel="noopener">è¿™é‡Œ</a></p>
</li>
</ul>
</li>
</ol>
<h4 id="1-offsetWidthã€clientWidthã€scrollWidthã€widthçš„åŒºåˆ«"><a href="#1-offsetWidthã€clientWidthã€scrollWidthã€widthçš„åŒºåˆ«" class="headerlink" title="1. offsetWidthã€clientWidthã€scrollWidthã€widthçš„åŒºåˆ«"></a>1. offsetWidthã€clientWidthã€scrollWidthã€widthçš„åŒºåˆ«</h4><table>
<thead>
<tr>
<th>å±æ€§å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>offsetWidth</td>
<td>çœŸå®çš„width+padding+border</td>
</tr>
<tr>
<td>clientWidth</td>
<td>çœŸå®çš„width+padding</td>
</tr>
<tr>
<td>style.width</td>
<td>è¿”å›DOMçœŸå®çš„width</td>
</tr>
<tr>
<td>scrollWidth</td>
<td>è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å…ƒç´ å®½åº¦ã€å†…è¾¹è·å’Œæº¢å‡ºå°ºå¯¸ï¼Œä¸åŒ…æ‹¬è¾¹æ¡†å’Œå¤–è¾¹è·ï¼‰ï¼Œæ— æº¢å‡ºçš„æƒ…å†µï¼Œä¸clientWidthç›¸åŒ</td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2018/07/04/architecture/MVC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/architecture/MVC/" itemprop="url">MVC,MVP,MVVMçš„åŒºåˆ«</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-04T23:29:23+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ¶æ„/" itemprop="url" rel="index">
                    <span itemprop="name">æ¶æ„</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»Šå¤©çœ‹åˆ°ä¸€ç¯‡å…³äºæ¢è®¨<a href="https://segmentfault.com/a/1190000015310674" target="_blank" rel="noopener">MVC,MVP,MVVMçš„æ–‡ç« </a>ï¼Œæˆ‘è§‰å¾—è®²çš„è¿˜æ˜¯è›®é€å½»çš„ï¼Œå€¼å¾—æ”¶è—ï¼Œä¸‹é¢æ˜¯æˆ‘å¯¹å®ƒçš„ä¸€äº›æ‘˜æŠ„ï¼Œå’Œè‡ªå·±çš„ä¸€äº›å°å°è§è§£ã€‚</p>
<h4 id="å‰ç«¯MVCå’Œåç«¯MVC"><a href="#å‰ç«¯MVCå’Œåç«¯MVC" class="headerlink" title="å‰ç«¯MVCå’Œåç«¯MVC"></a>å‰ç«¯MVCå’Œåç«¯MVC</h4><p><img src="https://github.com/zhehuaxuan/imageHub/blob/master/%E6%9E%B6%E6%9E%84/%E5%89%8D%E7%AB%AFmvc%E5%92%8C%E5%90%8E%E7%AB%AFmvc.jpg?raw=true" alt="å‰ç«¯MVCå’Œåç«¯MVC"> </p>
<blockquote>
<p>è¯¥å›¾æ‘˜è‡ªæ–‡ç« ï¼Œæˆ‘è§‰å¾—å¾ˆæ¸…æ™°æ˜äº†ï¼Œè®²æ¸…æ¥šäº†å‰åç«¯çš„mvcå…·ä½“æŒ‡çš„ä»€ä¹ˆï¼Œä¸è¿‡éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œåç«¯çš„MVCä¸­çš„Vç›®å‰å¾ˆå°‘ä½¿ç”¨äº†ï¼Œå› ä¸ºé€»è¾‘çš„å¤æ‚æ€§ï¼Œç»Ÿä¸€äº¤ç»™å‰ç«¯çš„MVCå»å¤„ç†ï¼Œè€Œåç«¯ä¸»è¦ä½¿ç”¨Modelå’ŒControllerå±‚ï¼Œæœ€åä»¥Restful APIçš„å½¢å¼æä¾›ç»™å‰ç«¯ï¼Œç‰¹åˆ«æ˜¯ç›®å‰çš„å¾®æœåŠ¡æ¦‚å¿µå¾ˆç«ï¼Œå‰ååˆ†ç¦»æˆä¸ºå¿…ç„¶ã€‚</p>
</blockquote>
<p>æ³¨ï¼šRestfulåªæ˜¯å®ç°çš„ä¸€ç§å½¢å¼ï¼Œå½“ç„¶ä»¥nodejsæŠŠå‰ç«¯åœ¨æœåŠ¡ç«¯è¿›è¡Œæ¸²æŸ“ï¼ˆSSRï¼‰ï¼Œèƒ½å¤Ÿæé«˜é¡µé¢çš„æ€§èƒ½ï¼Œè¿™æ—¶åç«¯çš„Vå°±å˜å¾—åšé‡çš„å¤šäº†ã€‚</p>
<h4 id="å‰ç«¯MVC-MVPå’ŒMVVMçš„åŒºåˆ«"><a href="#å‰ç«¯MVC-MVPå’ŒMVVMçš„åŒºåˆ«" class="headerlink" title="å‰ç«¯MVC,MVPå’ŒMVVMçš„åŒºåˆ«"></a>å‰ç«¯MVC,MVPå’ŒMVVMçš„åŒºåˆ«</h4><p><img src="https://github.com/zhehuaxuan/imageHub/blob/master/%E6%9E%B6%E6%9E%84/1530719845811.png?raw=true" alt="å‰ç«¯MVCï¼ŒMVPå’ŒMVVM"></p>
<blockquote>
<p>MVC,MVP,MVVMçš„åŒºåˆ«</p>
</blockquote>
<h5 id="MVCæ¶æ„"><a href="#MVCæ¶æ„" class="headerlink" title="MVCæ¶æ„"></a>MVCæ¶æ„</h5><p><img src="https://github.com/zhehuaxuan/imageHub/blob/master/%E6%9E%B6%E6%9E%84/mvc.png?raw=true" alt="MVC"></p>
<ul>
<li><code>View</code>ï¼Œå¯¹å¤–æš´éœ²å‡½ç”¨æˆ·äº‹ä»¶ç›‘å¬çš„æ¥å£ï¼Œå¹¶ç›‘å¬Modelçš„æ•°æ®æ”¹å˜äº‹ä»¶ï¼Œä¾èµ–äºModel</li>
<li><code>Controller</code>ï¼Œä¸å¯¹å¤–æš´éœ²ä»»ä½•æ¥å£ï¼Œç›‘å¬Viewçš„ç”¨æˆ·äº‹ä»¶ï¼Œå¹¶å¯¹Modelçš„æ¥å£äº†å¦‚æŒ‡æŒï¼Œä¾èµ–äºModelå’ŒView </li>
<li><code>Model</code>ï¼Œå¯¹å¤–æš´éœ²å‡½æ•°è°ƒç”¨æ¥å£å’Œäº‹ä»¶ç›‘å¬æ¥å£ï¼Œä¸ä¾èµ–Controllerå’ŒView </li>
</ul>
<p>MVCä¸­ä¹‹é—´çš„è€¦åˆæ€§ç›¸å¯¹è¾ƒé«˜ï¼Œæ¯”å¦‚åœ¨Controllerå±‚ç›´æ¥æ“çºµViewå±‚è¿‡å¤šï¼ŒControllerå±‚å°±å˜çš„éš¾ä¸ºç»´æŠ¤äº†ï¼Œæ‰€ä»¥åœ¨Modelå±‚å’ŒViewå±‚ä¸­å®šä¹‰æ¥å£è¿›è¡Œäº¤äº’ï¼Œä¾¿äºç»´æŠ¤ï¼Œè¿™ä¸€å±‚å°±æ˜¯Presenterå±‚ï¼Œä¹Ÿå°±æ˜¯MVPæ¶æ„ã€‚</p>
<h5 id="MVPæ¶æ„"><a href="#MVPæ¶æ„" class="headerlink" title="MVPæ¶æ„"></a>MVPæ¶æ„</h5><p><img src="https://github.com/zhehuaxuan/imageHub/blob/master/%E6%9E%B6%E6%9E%84/mvp.png?raw=true" alt="MVP"></p>
<ul>
<li><code>Model</code>ï¼Œå¯¹å¤–æš´éœ²å‡½æ•°è°ƒç”¨æ¥å£å’Œäº‹ä»¶ç›‘å¬æ¥å£ï¼Œå¯¹Presenterå’ŒViewçš„å­˜åœ¨ä¸€æ— æ‰€çŸ¥ï¼Œæ‰€ä»¥ä¸ä¾èµ–Presenterå’ŒView</li>
<li><code>View</code>ï¼Œå¯¹å¤–æš´éœ²å‡½æ•°è°ƒç”¨æ¥å£å’Œäº‹ä»¶ç›‘å¬æ¥å£ï¼Œå¯¹Presenterå’ŒModelçš„å­˜åœ¨ä¸€æ— æ‰€çŸ¥ï¼Œæ‰€ä»¥ä¸ä¾èµ–Presenterå’ŒView</li>
<li><code>Presenter</code>ï¼Œä¸å¯¹å¤–æš´éœ²ä»»ä½•æ¥å£ï¼Œç›‘å¬Viewå’ŒModelçš„äº‹ä»¶ï¼Œå¹¶å¯¹å®ƒä»¬çš„æ¥å£äº†å¦‚æŒ‡æŒï¼Œæ‰€ä»¥ä¾èµ–äºModelå’ŒView</li>
</ul>
<p>ä¸€æ—¦æ¥å£è¿‡å¤šï¼Œä¹Ÿæ˜¯ç›¸å½“å¤æ‚ï¼Œå¦‚æœModelå±‚ä¸­çš„æ¨¡å‹å˜åŠ¨ï¼ŒViewå±‚èƒ½å¤Ÿç›¸åº”çš„è‡ªåŠ¨å‘ç”Ÿå˜åŠ¨è¯¥å¤šå¥½ï¼Ÿæ‰€ä»¥äº§ç”Ÿäº†MVVMã€‚</p>
<h5 id="MVVMæ¶æ„"><a href="#MVVMæ¶æ„" class="headerlink" title="MVVMæ¶æ„"></a>MVVMæ¶æ„</h5><p><img src="https://github.com/zhehuaxuan/imageHub/blob/master/%E6%9E%B6%E6%9E%84/mvvm.png?raw=true" alt="MVVMæ¶æ„"> </p>
<ul>
<li><code>Model</code>ï¼Œå¯¹å¤–æš´éœ²å‡½æ•°è°ƒç”¨æ¥å£å’Œäº‹ä»¶ç›‘å¬æ¥å£ï¼Œä¸ä¾èµ–ViewModelå’ŒView</li>
<li><code>ViewModel</code>ï¼Œç›‘å¬Modelçš„äº‹ä»¶ï¼Œå¹¶å¯¹Modelçš„æ¥å£äº†å¦‚æŒ‡æŒï¼Œä¾èµ–äºModelã€‚åŒæ—¶å‘Viewæš´éœ²å“åº”é€»è¾‘çš„è°ƒç”¨æ¥å£ï¼Œä»¥åŠæ‰€æœ‰çš„çŠ¶æ€æ•°æ®ï¼Œå¹¶ä¸ä¾èµ–äºView</li>
<li><code>View</code>ï¼Œç›‘å¬ç”¨æˆ·äº¤äº’äº‹ä»¶ï¼Œç„¶åè°ƒç”¨ViewModelçš„å“åº”é€»è¾‘ï¼ŒåŒæ—¶å°†è‡ªå·±çš„æ˜¾ç¤ºçŠ¶æ€ä¸ViewModelçš„çŠ¶æ€æ•°æ®ç»‘å®šåœ¨ä¸€èµ·ï¼Œæ‰€ä»¥ä¾èµ–äºViewModel</li>
</ul>
<p>åœ¨å…¶æ–‡ä¸­ä¸¾äº†ä¸€ä¸ªä¾‹å­ç›¸å½“ç”ŸåŠ¨ï¼š</p>
<blockquote>
<ol>
<li><p>Viewè·å–ä¸‹æ‹‰äº‹ä»¶ï¼Œé€šçŸ¥Controller</p>
</li>
<li><p>Controllerå‘åå°Modelå‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚å†…å®¹ä¸ºä¸‹æ‹‰åˆ·æ–°</p>
</li>
<li><p>Modelè·å¾—10æ¡æ–°é—»æ•°æ®ï¼Œä¼ é€’ç»™Controller</p>
</li>
<li><p>Controlleræ‹¿åˆ°10æ¡æ–°é—»æ•°æ®ï¼Œå¯èƒ½åšä¸€äº›æ•°æ®å¤„ç†ï¼Œç„¶åæ‹¿å¤„ç†å¥½çš„æ•°æ®æ¸²æŸ“View    </p>
<p>MVC: æ‹¿åˆ°UIèŠ‚ç‚¹ï¼Œæ¸²æŸ“10æ¡æ–°é—»    </p>
<p>MVP: é€šè¿‡Viewæä¾›çš„æ¥å£æ¸²æŸ“10æ¡æ–°é—»    </p>
<p>MVVM: æ— éœ€æ“ä½œï¼Œåªè¦VMçš„æ•°æ®å˜åŒ–ï¼Œé€šè¿‡æ•°æ®åŒå‘ç»‘å®šï¼ŒViewç›´æ¥å˜åŒ–</p>
</li>
</ol>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2018/06/29/communication/åŒæ­¥å¼‚æ­¥é˜»å¡éé˜»å¡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/29/communication/åŒæ­¥å¼‚æ­¥é˜»å¡éé˜»å¡/" itemprop="url">åŒæ­¥å¼‚æ­¥ï¼Œé˜»å¡å’Œéé˜»å¡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-29T22:31:23+08:00">
                2018-06-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/é€šä¿¡æœºåˆ¶/" itemprop="url" rel="index">
                    <span itemprop="name">é€šä¿¡æœºåˆ¶</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åŒæ­¥å’Œå¼‚æ­¥ï¼Œé˜»å¡å’Œéé˜»å¡ï¼Œæ ¹æ®å­—é¢æ„æ€ä¹Ÿèƒ½å¤Ÿåˆ†å‡ºå·®åˆ«ï¼Œä½†æ˜¯<code>åŒæ­¥ï¼Œå¼‚æ­¥</code>ä¸<code>é˜»å¡ï¼Œéé˜»å¡</code>å¾ˆå®¹æ˜“æ··æ·†ï¼Œé‚£ä¹ˆåŒæ­¥æ˜¯ä¸æ˜¯å°±æ˜¯é˜»å¡ï¼Œå¼‚æ­¥æ˜¯ä¸æ˜¯å°±æ˜¯éé˜»å¡ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè™½ç„¶åŒæ­¥æ„å‘³ç€é˜»å¡ï¼Œå¼‚æ­¥æ„å‘³ç€ä¸é˜»å¡ï¼Œä½†æ˜¯é¢å¯¹çš„å¯¹è±¡ä¸åŒï¼Œä¸‹é¢æ˜¯æ‘˜è‡ªåšå®¢å›­å…¶ä¸­ä¸€ç¯‡<a href="https://www.cnblogs.com/Anker/p/5965654.html" target="_blank" rel="noopener">åšå®¢</a>å¯¹åŒæ­¥ã€å¼‚æ­¥ï¼Œé˜»å¡ã€éé˜»å¡çš„å®šä¹‰ï¼š</p>
<blockquote>
<p>åŒæ­¥ã€å¼‚æ­¥ï¼š</p>
</blockquote>
<ul>
<li>æ¦‚å¿µï¼šæ¶ˆæ¯çš„é€šçŸ¥æœºåˆ¶</li>
<li>è§£é‡Šï¼šæ¶‰åŠåˆ°IOé€šçŸ¥æœºåˆ¶ï¼›æ‰€è°“åŒæ­¥ï¼Œå°±æ˜¯å‘èµ·è°ƒç”¨åï¼Œè¢«è°ƒç”¨è€…å¤„ç†æ¶ˆæ¯ï¼Œå¿…é¡»ç­‰å¤„ç†å®Œæ‰ç›´æ¥è¿”å›ç»“æœï¼Œæ²¡å¤„ç†å®Œä¹‹å‰æ˜¯ä¸è¿”å›çš„ï¼Œè°ƒç”¨è€…ä¸»åŠ¨ç­‰å¾…ç»“æœï¼›æ‰€è°“å¼‚æ­¥ï¼Œå°±æ˜¯å‘èµ·è°ƒç”¨åï¼Œè¢«è°ƒç”¨è€…ç›´æ¥è¿”å›ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¿”å›ç»“æœï¼Œç­‰å¤„ç†å®Œæ¶ˆæ¯åï¼Œé€šè¿‡çŠ¶æ€ã€é€šçŸ¥æˆ–è€…å›è°ƒå‡½æ•°æ¥é€šçŸ¥è°ƒç”¨è€…ï¼Œè°ƒç”¨è€…è¢«åŠ¨æ¥æ”¶ç»“æœã€‚é˜»å¡ã€éé˜»å¡ï¼š</li>
</ul>
<blockquote>
<p>é˜»å¡ã€éé˜»å¡</p>
</blockquote>
<ul>
<li>æ¦‚å¿µï¼šç¨‹åºç­‰å¾…è°ƒç”¨ç»“æœæ—¶çš„çŠ¶æ€</li>
<li>è§£é‡Šï¼šæ¶‰åŠåˆ°CPUçº¿ç¨‹è°ƒåº¦ï¼›æ‰€è°“é˜»å¡ï¼Œå°±æ˜¯è°ƒç”¨ç»“æœè¿”å›ä¹‹å‰ï¼Œè¯¥æ‰§è¡Œçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œä¸é‡Šæ”¾CPUæ‰§è¡Œæƒï¼Œçº¿ç¨‹ä¸èƒ½åšå…¶å®ƒäº‹æƒ…ï¼Œåªèƒ½ç­‰å¾…ï¼Œåªæœ‰ç­‰åˆ°è°ƒç”¨ç»“æœè¿”å›äº†ï¼Œæ‰èƒ½æ¥ç€å¾€ä¸‹æ‰§è¡Œï¼›æ‰€è°“éé˜»å¡ï¼Œå°±æ˜¯åœ¨æ²¡æœ‰è·å–è°ƒç”¨ç»“æœæ—¶ï¼Œä¸æ˜¯ä¸€ç›´ç­‰å¾…ï¼Œçº¿ç¨‹å¯ä»¥å¾€ä¸‹æ‰§è¡Œï¼Œå¦‚æœæ˜¯åŒæ­¥çš„ï¼Œé€šè¿‡è½®è¯¢çš„æ–¹å¼æ£€æŸ¥æœ‰æ²¡æœ‰è°ƒç”¨ç»“æœè¿”å›ï¼Œå¦‚æœæ˜¯å¼‚æ­¥çš„ï¼Œä¼šé€šçŸ¥å›è°ƒã€‚</li>
</ul>
<p>æ ¹æ®æ¦‚å¿µï¼Œä»–ä»¬è®²çš„å°±ä¸æ˜¯åŒä¸€ä»¶äº‹æƒ…ã€‚</p>
<p>åŒæ­¥å’Œå¼‚æ­¥æ˜¯ç”¨æ¥å½¢å®¹æ¶ˆæ¯çš„é€šçŸ¥æœºåˆ¶ï¼Œé€šä¿¡æœºåˆ¶å°±æ˜¯ä¸€ä¸ªRuleï¼Œä¸€ä¸ªè§„åˆ™ï¼ŒåŒæ­¥å°±æ˜¯ä¸¥æ ¼æŒ‰ç…§å…ˆåé¡ºåºå»åšäº‹æƒ…ï¼Œæ¯”å¦‚æœ‰æ—¶å€™æˆ‘ä»¬çš„äº‹æƒ…å¿…é¡»ä¸€ä»¶ä¸€ä»¶å»åšï¼Œæˆ‘å…ˆå¼€å‘åŸå‹ç•Œé¢ï¼Œå†å‰åç«¯è”è°ƒâ€”â€”ä¹Ÿå°±æ˜¯è¯´æˆ‘çš„å¼€å‘æµç¨‹è¿™ä¸ªRuleï¼Œæˆ‘åœ¨æ²¡æœ‰å¼€å‘å®ŒåŸå‹ç•Œé¢ä¹‹å‰æ˜¯ä¸ä¼šè·Ÿåç«¯å»è”è°ƒçš„ï¼Œè¿™å°±æ˜¯åŒæ­¥ï¼›è€Œå¼‚æ­¥åœ¨ç”Ÿæ´»ä¸­å°±å¾ˆå¤šäº†ï¼Œæˆ‘åœ¨å®¶é‡Œæ”¾äº†ä¸€åªè€é¼ å¤¹ï¼Œæˆ‘ä¸å¯èƒ½åœ¨æ—è¾¹çœ‹ç€è€é¼ ä¸Šé’©ï¼Œæˆ‘å¯ä»¥å»åšå…¶ä»–çš„äº‹æƒ…ï¼Œç›´åˆ°æœ‰ä¸€å¤©ï¼Œè€é¼ å¤¹å‘å‡ºè­¦æŠ¥äº†ï¼ˆè¿™æ˜¯ä¸€ä¸ªè¿ç€appçš„è€é¼ å¤¹23333ï¼‰ï¼Œæˆ‘å‘ç°æœ‰è€é¼ ä¸Šé’©äº†ï¼Œè¿™ä¸ªå°±æ˜¯å¼‚æ­¥ã€‚æ‰€ä»¥å®ƒä»¬é’ˆå¯¹çš„æ˜¯Ruleï¼Œå‰ç«¯å¼€å‘æµç¨‹ï¼Œè€é¼ å¤¹å¤¹è€é¼ ï¼Œè¿™ä¸ªéƒ½æ˜¯ä¸€ç§Ruleï¼Œé€šä¿¡æœºåˆ¶ã€‚</p>
<p>é˜»å¡å’Œéé˜»å¡æ˜¯ç”¨æ¥å½¢å®¹é€šä¿¡ä¸€æ–¹çš„çŠ¶æ€ï¼Œæ¯”å¦‚æˆ‘æ‰“æ»´æ»´ï¼Œå¸ˆå‚…æ¥å•äº†ï¼Œ1åˆ†é’Ÿå°±åˆ°ï¼Œæˆ‘ç«™åœ¨è·¯è¾¹ï¼Œæ—¶åˆ»å…³æ³¨ç€æ‰‹æœºï¼Œæˆ‘çš„è¿™ä¸ªçŠ¶æ€å°±æ˜¯é˜»å¡çŠ¶æ€ï¼Œè€Œå¦‚æœè¦10åˆ†é’Ÿæ‰åˆ°ï¼Œè¿™ä¸ªæ—¶å€™å¤–é¢åˆå¾ˆçƒ­ï¼Œé‚£æˆ‘å…ˆå»ä¹°ä¸ªå¯ä¹å–ä¸€ä¸‹ï¼Œæ—¶ä¸æ—¶çš„çœ‹ä¸€ä¸‹æ‰‹æœºï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯å¸ˆå‚…å¿«åˆ°äº†ï¼Œè¿™ä¸ªå°±æ˜¯éé˜»å¡ã€‚</p>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå‡ºç°é˜»å¡å’Œéé˜»å¡å‘¢ï¼Ÿå°±æ˜¯å› ä¸ºåŒæ­¥æœºåˆ¶é€ æˆçš„ï¼Œå¦‚æœæ˜¯å¼‚æ­¥ï¼Œæœ€åäº‹æƒ…å¥½äº†ï¼Œé€šçŸ¥æˆ‘ä¸€å£°ï¼Œgoodï¼ï¼ï¼æˆ‘é˜»å¡åœ¨é‚£é‡Œå¹²å˜›ï¼Œæˆ‘è¯¥å¹²å˜›å¹²å˜›ã€‚ä½†æ˜¯åŒæ­¥çš„è¯æˆ‘å°±æ²¡åŠæ³•äº†ï¼Œåªèƒ½ç­‰å‘—ï¼Œæ—¶é—´å°‘ä¸€ç‚¹æ— æ‰€è°“çš„ï¼Œé‚£æ—¶é—´ä¸€é•¿å‘¢ï¼Ÿåšç‚¹å…¶ä»–çš„äº‹æƒ…å‘—ï¼Œæ—¶ä¸æ—¶çš„çœ‹çœ‹åç»­æƒ…å†µï¼Œæé«˜æ•ˆç‡ã€‚</p>
<p>æ‰€ä»¥åŒæ­¥éƒ½ä¼´éšç€é˜»å¡å’Œéé˜»å¡ï¼Œä»¥åå†ä¹Ÿä¸è¦æŠŠåŒæ­¥å¼‚æ­¥ï¼Œé˜»å¡ã€éé˜»å¡ææ··äº†ã€‚</p>
<p>æŠ›ç –å¼•ç‰ï¼Œæœ›æå‡ºå®è´µæ„è§ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhehuaxuan.github.io/2018/06/27/program_person/bad_action/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZheHuaXuan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhehua's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/27/program_person/bad_action/" itemprop="url">å‹¤èƒ½è¡¥æ‹™</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-27T23:48:10+08:00">
                2018-06-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å·¥ä½œæ¼«è°ˆ/" itemprop="url" rel="index">
                    <span itemprop="name">å·¥ä½œæ¼«è°ˆ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://github.com/zhehuaxuan/imageHub/blob/master/1530114837431.png?raw=true" alt="1530114837431"></p>
<blockquote>
<p>é’ˆå¯¹äºç¨‹åºå‘˜å¹³æ—¶æœ‰çš„åä¹ æƒ¯ï¼ŒåŒ…æ‹¬æˆ‘ä¹Ÿæ˜¯å¾ˆå¤šéƒ½å äº†ï¼Œé’ˆå¯¹äºè¿™äº›é—®é¢˜è¿›è¡Œæ€»ç»“</p>
</blockquote>
<p>å…‹æœä¸Šè¿°çš„å‡ ä¸ªä¸è‰¯ä¹ æƒ¯ï¼Œä¸€å®šä¼šè·Ÿåˆ«äººäº§ç”Ÿä¸ä¸€æ ·çš„å·®è·ï¼Œæ—¶åˆ»å‹‰åŠ±è‡ªå·±ï¼Œäº‹åœ¨äººä¸ºã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.gif"
                alt="ZheHuaXuan" />
            
              <p class="site-author-name" itemprop="name">ZheHuaXuan</p>
              <p class="site-description motion-element" itemprop="description">çŸ¥è¶³.æ„Ÿæ©.å¹¸è¿</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">40</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/zhehuaxuan" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:xuanzhehua@huawei.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZheHuaXuan</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> ä¸ªäººä¸“å±</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
